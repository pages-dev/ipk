"use strict";(self.webpackChunkrebuild_vue3_vant4=self.webpackChunkrebuild_vue3_vant4||[]).push([["7632"],{9258:function(){},3603:function(){},9395:function(e){e.exports="data:image/png;base64,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"},2276:function(e,a,l){e.exports=l.p+"static/image/upload.a198b00d.png"},342:function(e,a,l){l.d(a,{Qm:()=>C});var t=l(3794),i=l(796),r=l(6016),o=l(1884),u=l(3288);let[n,d,s]=(0,l(6460).do)("uploader");function c(e,a){return new Promise(l=>{if("file"===a){l();return}let t=new FileReader;t.onload=e=>{l(e.target.result)},"dataUrl"===a?t.readAsDataURL(e):"text"===a&&t.readAsText(e)})}function m(e,a){return(0,o.qo)(e).some(e=>!!e.file&&((0,o.mf)(a)?a(e.file):e.file.size>+a))}let p=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i,v=e=>p.test(e);function f(e){return!!e.isImage||(e.file&&e.file.type?0===e.file.type.indexOf("image"):e.url?v(e.url):"string"==typeof e.content&&0===e.content.indexOf("data:image"))}var g=l(1477),b=l(7085),U=l(4123),w=l(6169),h=l(6576),A=l(6653),y=l(8309),k=(0,i.aZ)({props:{name:r.Or,item:(0,r.ir)(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,reupload:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview","reupload"],setup(e,{emit:a,slots:l}){let t=()=>{let{status:a,message:l}=e.item;if("uploading"===a||"failed"===a){let e="failed"===a?(0,i.Wm)(U.JO,{name:"close",class:d("mask-icon")},null):(0,i.Wm)(y.gb,{class:d("loading")},null),t=(0,o.Xq)(l)&&""!==l;return(0,i.Wm)("div",{class:d("mask")},[e,t&&(0,i.Wm)("div",{class:d("mask-message")},[l])])}},r=l=>{let{name:t,item:i,index:r,beforeDelete:o}=e;l.stopPropagation(),(0,h.I)(o,{args:[i,{name:t,index:r}],done:()=>a("delete")})},n=()=>a("preview"),c=()=>a("reupload"),m=()=>{if(e.deletable&&"uploading"!==e.item.status){let e=l["preview-delete"];return(0,i.Wm)("div",{role:"button",class:d("preview-delete",{shadow:!e}),tabindex:0,"aria-label":s("delete"),onClick:r},[e?e():(0,i.Wm)(U.JO,{name:"cross",class:d("preview-delete-icon")},null)])}},p=()=>{if(l["preview-cover"]){let{index:a,item:t}=e;return(0,i.Wm)("div",{class:d("preview-cover")},[l["preview-cover"]((0,o.l7)({index:a},t))])}},v=()=>{let{item:a,lazyLoad:l,imageFit:t,previewSize:r,reupload:o}=e;return f(a)?(0,i.Wm)(A.Ee,{fit:t,src:a.objectUrl||a.content||a.url,class:d("preview-image"),width:Array.isArray(r)?r[0]:r,height:Array.isArray(r)?r[1]:r,lazyLoad:l,onClick:o?c:n},{default:p}):(0,i.Wm)("div",{class:d("file"),style:(0,u.Xn)(e.previewSize)},[(0,i.Wm)(U.JO,{class:d("file-icon"),name:"description"},null),(0,i.Wm)("div",{class:[d("file-name"),"van-ellipsis"]},[a.file?a.file.name:a.url]),p()])};return()=>(0,i.Wm)("div",{class:d("preview")},[v(),t(),m()])}});let S={name:(0,r.SI)(""),accept:(0,r.SQ)("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:(0,r.SI)(1/0),imageFit:(0,r.SQ)("cover"),resultType:(0,r.SQ)("dataUrl"),uploadIcon:(0,r.SQ)("photograph"),uploadText:String,deletable:r.J5,reupload:Boolean,afterRead:Function,showUpload:r.J5,modelValue:(0,r.Ce)(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:r.J5,previewOptions:Object,previewFullImage:r.J5,maxSize:{type:[Number,String,Function],default:1/0}};var x=(0,i.aZ)({name:n,props:S,emits:["delete","oversize","clickUpload","closePreview","clickPreview","clickReupload","update:modelValue"],setup(e,{emit:a,slots:l}){let t;let r=(0,i.iH)(),n=[],s=(0,i.iH)(-1),p=(0,i.iH)(!1),v=(a=e.modelValue.length)=>({name:e.name,index:a}),h=()=>{r.value&&(r.value.value="")},A=l=>{if(h(),m(l,e.maxSize)){if(Array.isArray(l)){let t=function(e,a){let l=[],t=[];return e.forEach(e=>{m(e,a)?t.push(e):l.push(e)}),{valid:l,invalid:t}}(l,e.maxSize);if(l=t.valid,a("oversize",t.invalid,v()),!l.length)return}else{a("oversize",l,v());return}}if(l=(0,i.qj)(l),s.value>-1){let t=[...e.modelValue];t.splice(s.value,1,l),a("update:modelValue",t),s.value=-1}else a("update:modelValue",[...e.modelValue,...(0,o.qo)(l)]);e.afterRead&&e.afterRead(l,v())},y=a=>{let{maxCount:l,modelValue:t,resultType:i}=e;if(Array.isArray(a)){let e=+l-t.length;a.length>e&&(a=a.slice(0,e)),Promise.all(a.map(e=>c(e,i))).then(e=>{A(a.map((a,l)=>{let t={file:a,status:"",message:"",objectUrl:URL.createObjectURL(a)};return e[l]&&(t.content=e[l]),t}))})}else c(a,i).then(e=>{let l={file:a,status:"",message:"",objectUrl:URL.createObjectURL(a)};e&&(l.content=e),A(l)})},S=a=>{let{files:l}=a.target;if(e.disabled||!l||!l.length)return;let t=1===l.length?l[0]:[].slice.call(l);if(e.beforeRead){let a=e.beforeRead(t,v());if(!a){h();return}if((0,o.tI)(a)){a.then(e=>{e?y(e):y(t)}).catch(h);return}}y(t)},x=()=>a("closePreview"),C=a=>{if(e.previewFullImage){let l=e.modelValue.filter(f),i=l.map(e=>(e.objectUrl&&!e.url&&"failed"!==e.status&&(e.url=e.objectUrl,n.push(e.url)),e.url)).filter(Boolean);t=(0,w.V)((0,o.l7)({images:i,startPosition:l.indexOf(a),onClose:x},e.previewOptions))}},V=(l,t)=>{let i=e.modelValue.slice(0);i.splice(t,1),a("update:modelValue",i),a("delete",l,v(t))},q=e=>{p.value=!0,s.value=e,(0,i.Y3)(()=>z())},W=()=>{p.value||(s.value=-1),p.value=!1},I=(t,r)=>{let u=["imageFit","deletable","reupload","previewSize","beforeDelete"],n=(0,o.l7)((0,o.ei)(e,u),(0,o.ei)(t,u,!0));return(0,i.Wm)(k,(0,i.dG)({item:t,index:r,onClick:()=>a(e.reupload?"clickReupload":"clickPreview",t,v(r)),onDelete:()=>V(t,r),onPreview:()=>C(t),onReupload:()=>q(r)},(0,o.ei)(e,["name","lazyLoad"]),n),(0,o.ei)(l,["preview-cover","preview-delete"]))},j=()=>{if(e.previewImage)return e.modelValue.map(I)},E=e=>a("clickUpload",e),F=()=>{let a=e.modelValue.length<+e.maxCount,t=e.readonly?null:(0,i.Wm)("input",{ref:r,type:"file",class:d("input"),accept:e.accept,capture:e.capture,multiple:e.multiple&&-1===s.value,disabled:e.disabled,onChange:S,onClick:W},null);return l.default?(0,i.wy)((0,i.Wm)("div",{class:d("input-wrapper"),onClick:E},[l.default(),t]),[[i.F8,a]]):(0,i.wy)((0,i.Wm)("div",{class:d("upload",{readonly:e.readonly}),style:(0,u.Xn)(e.previewSize),onClick:E},[(0,i.Wm)(U.JO,{name:e.uploadIcon,class:d("upload-icon")},null),e.uploadText&&(0,i.Wm)("span",{class:d("upload-text")},[e.uploadText]),t]),[[i.F8,e.showUpload&&a]])},z=()=>{r.value&&!e.disabled&&r.value.click()};return(0,i.Jd)(()=>{n.forEach(e=>URL.revokeObjectURL(e))}),(0,b.F)({chooseFile:z,reuploadFile:q,closeImagePreview:()=>{t&&t.close()}}),(0,g.aM)(()=>e.modelValue),()=>(0,i.Wm)("div",{class:d()},[(0,i.Wm)("div",{class:d("wrapper",{disabled:e.disabled})},[j(),F()])])}});let C=(0,t.n)(x)},8153:function(e,a,l){l(2136),l(8649),l(1058),l(1496),l(6376),l(7016),l(2057),l(3603),l(9258)},582:function(e,a,l){l.d(a,{CU:()=>o,LI:()=>i,cM:()=>d,ev:()=>s,hY:()=>n,jC:()=>r,rr:()=>u});var t=l(7936);let i=e=>t.ZP.request({url:"upload",method:"POST",data:e,headers:{"Content-Type":"multipart/form-data"}}),r=e=>t.ZP.request({url:"deleteImage",method:"DELETE",data:e}),o=e=>t.ZP.request({url:"bankAccounts",method:"POST",data:e}),u=e=>t.ZP.request({url:"bankAccounts",method:"PUT",data:e}),n=e=>t.ZP.request({url:"bankAccountsAll",method:"get",params:e}),d=e=>t.ZP.request({url:"bankAccounts",method:"get",params:e}),s=e=>t.ZP.request({url:"bankAccounts",method:"delete",params:e})},4220:function(e,a,l){l.r(a),l.d(a,{default:()=>S});var t=l(9155);l(3720);var i=l(342);l(8153);var r=l(6653);l(5161);var o=l(5e3);l(9242);var u=l(3919);l(5454);var n=l(796),d=l(9395),s=l(582),c=l(7936),m=l(1277),p=l(9938),v=l(2991);l(8491);let f={class:"title"},g={key:0,class:"input-box"},b={class:"label"},U={class:"input-box-item"},w={key:1,class:"input-box"},h={key:2,class:"tips"},A={class:"footer"},y={class:"button"},k=(0,n.aZ)({__name:"Form",setup(e){let{beforeTitle:a,type:k,title:S,id:x,from:C}=(0,p.yj)().query,V=(0,n.iH)({accountNumber:"",accountName:"",platform:k}),q=(0,n.iH)([]),W=async()=>{for(let e=0;e<q.value.length;e++)q.value[e].imageId||(q.value[e].status="uploading",q.value[e].message="上传中...");for(let e=0;e<q.value.length;e++)if("uploading"==q.value[e].status)try{let a=new FormData;a.append("file",q.value[e].file),a.append("type","payType");let l=await (0,s.LI)(a);200==l.code&&l.data&&(q.value[e].url=c.v2+l.data.imageUrl,q.value[e].status="done",q.value[e].message="",q.value[e].imageId=l.data.imageId,q.value[e].imageUrl=l.data.imageUrl)}catch(a){q.value[e].status="failed",q.value[e].message="上传失败"}},I=async e=>200==(await (0,s.jC)({imageId:e.imageId,imageUrl:e.imageUrl})).code,j=async()=>{if("usdt"==k){if(!V.value.accountNumber)return(0,v.CF)("请输入您的"+S+"地址")}else{if(!V.value.accountName)return(0,v.CF)("请输入您的姓名");if(!V.value.accountNumber)return(0,v.CF)("请输入您的"+S+"账号");if(0==q.value.length)return(0,v.CF)("请上传收款二维码")}let e=V.value;q.value.length>0&&(e.imageId=q.value[0].imageId),"添加"==a?200==(await (0,s.CU)(e)).code&&(0,v.XA)({message:"添加成功",onClose:()=>{"other"==C?m.Z.go(-1):m.Z.go(-2)}}):200==(await (0,s.rr)(e)).code&&(0,v.XA)({message:"修改成功",onClose:()=>{m.Z.go(-1)}})};return(0,n.bv)(async()=>{if("修改"==a){let e=await (0,s.cM)({id:Number(x)});200==e.code&&e.data&&(V.value.accountNumber=e.data.accountNumber,V.value.accountName=e.data.accountName,V.value.id=e.data.id,e.data.imageUrl&&q.value.push({url:c.v2+(e.data.imageUrl.startsWith("/")?e.data.imageUrl.slice(1):e.data.imageUrl),imageUrl:e.data.imageUrl,imageId:e.data.imageId,status:"done",message:""}))}}),(e,s)=>{let c=u.l2,p=o.gN,v=r.Ee,x=i.Qm,C=t.zx;return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(c,{border:!1,"left-arrow":!1,class:"header",fixed:"",placeholder:"","safe-area-inset-top":"",onClickLeft:s[0]||(s[0]=e=>(0,n.SU)(m.Z).back())},{left:(0,n.w5)(()=>s[5]||(s[5]=[(0,n._)("img",{alt:"icon",class:"back-icon",src:d},null,-1)])),title:(0,n.w5)(()=>[(0,n._)("p",f,(0,n.zw)((0,n.SU)(a))+(0,n.zw)((0,n.SU)(S)),1)]),_:1}),"alipay"==(0,n.SU)(k)||"wechat"==(0,n.SU)(k)?((0,n.wg)(),(0,n.iD)("div",g,[s[6]||(s[6]=(0,n._)("p",{class:"label"},"姓名",-1)),(0,n._)("div",{class:(0,n.C_)((0,n.SU)(V).accountName?"input-box-item input-box-item-focus":"input-box-item input-box-item-blur")},[(0,n.Wm)(p,{modelValue:(0,n.SU)(V).accountName,"onUpdate:modelValue":s[1]||(s[1]=e=>(0,n.SU)(V).accountName=e),modelModifiers:{trim:!0},type:"text",autocomplete:"off",clearable:"",placeholder:"请输入您的真实姓名"},null,8,["modelValue"])],2),(0,n._)("p",b,(0,n.zw)((0,n.SU)(S))+"账号",1),(0,n._)("div",{class:(0,n.C_)((0,n.SU)(V).accountNumber?"input-box-item input-box-item-focus":"input-box-item input-box-item-blur")},[(0,n.Wm)(p,{modelValue:(0,n.SU)(V).accountNumber,"onUpdate:modelValue":s[2]||(s[2]=e=>(0,n.SU)(V).accountNumber=e),modelModifiers:{trim:!0},type:"text",autocomplete:"off",clearable:"",placeholder:"请输入您的"+(0,n.SU)(S)+"账号"},null,8,["modelValue","placeholder"])],2),s[7]||(s[7]=(0,n._)("p",{class:"label"},"收款二维码",-1)),(0,n._)("div",U,[(0,n.Wm)(x,{"after-read":W,"before-delete":I,modelValue:(0,n.SU)(q),"onUpdate:modelValue":s[3]||(s[3]=e=>(0,n.dq)(q)?q.value=e:null),"max-count":1},{default:(0,n.w5)(()=>[(0,n.Wm)(v,{width:"80",src:l(2276)},null,8,["src"])]),_:1},8,["modelValue"])])])):(0,n.kq)("",!0),"usdt"==(0,n.SU)(k)?((0,n.wg)(),(0,n.iD)("div",w,[s[8]||(s[8]=(0,n._)("p",{class:"label"},"地址",-1)),(0,n._)("div",{class:(0,n.C_)((0,n.SU)(V).accountNumber?"input-box-item input-box-item-focus":"input-box-item input-box-item-blur")},[(0,n.Wm)(p,{modelValue:(0,n.SU)(V).accountNumber,"onUpdate:modelValue":s[4]||(s[4]=e=>(0,n.SU)(V).accountNumber=e),modelModifiers:{trim:!0},type:"text",autocomplete:"off",clearable:"",placeholder:"请输入您的"+(0,n.SU)(S)+"地址"},null,8,["modelValue","placeholder"])],2)])):(0,n.kq)("",!0),"usdt"!=(0,n.SU)(k)?((0,n.wg)(),(0,n.iD)("div",h," 提示：请务必填写真实有效的提现信息，包括姓名、账号及收款二维码。信息有误将导致无法成功到账。 ")):(0,n.kq)("",!0),(0,n._)("div",A,[(0,n._)("div",y,[(0,n.Wm)(C,{round:"",block:"",onClick:j},{default:(0,n.w5)(()=>s[9]||(s[9]=[(0,n.Uk)("确认")])),_:1})])])],64)}}}),S=(0,l(3744).default)(k,[["__scopeId","data-v-3800aeed"]])}}]);