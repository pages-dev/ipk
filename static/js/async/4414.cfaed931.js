"use strict";(self.webpackChunkrebuild_vue3_vant4=self.webpackChunkrebuild_vue3_vant4||[]).push([["4414"],{9395:function(e){e.exports="data:image/png;base64,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"},8299:function(e,t,a){e.exports=a.p+"static/image/collection.72807770.png"},3243:function(e,t,a){e.exports=a.p+"static/image/complete.c7a9f855.png"},8214:function(e,t,a){e.exports=a.p+"static/image/wait.5bd02caa.png"},8681:function(e,t,a){a.d(t,{M:()=>n});var l=a(796);let r=0;function n(){let e=(0,l.FN)(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return`${t}-${++r}`}},352:function(e,t,a){a.d(t,{K3:()=>r,KO:()=>s,Ll:()=>i,MJ:()=>d,Px:()=>u,R9:()=>o,hw:()=>c,j7:()=>n});var l=a(7936);let r=e=>l.ZP.request({url:"activityLog/history",method:"GET",params:e}),n=()=>l.ZP.request({url:"rebate/invitation",method:"GET"}),s=()=>l.ZP.request({url:"invitation",method:"GET"}),u=()=>l.ZP.request({url:"activityLog/sum",method:"GET"}),i=e=>l.ZP.request({url:"activity/sign/list",method:"GET",params:e}),o=e=>l.ZP.request({url:"activity/claim",method:"POST",data:e}),c=e=>l.ZP.request({url:"activity/sign",method:"POST",data:e}),d=e=>l.ZP.request({url:"activity/receive",method:"POST",data:e})},7307:function(e,t,a){a.d(t,{Iu:()=>c,Qn:()=>o,bG:()=>r,fm:()=>d,kR:()=>n,nW:()=>u,nz:()=>i,pq:()=>s});var l=a(7936);let r=()=>l.ZP.request({url:"user/info",method:"GET"}),n=e=>l.ZP.request({url:"user/password",method:"PUT",data:e}),s=e=>l.ZP.request({url:"user/info",method:"PUT",data:e}),u=e=>l.ZP.request({url:"user/password",method:"POST",data:e}),i=e=>l.ZP.request({url:"user/balance/transfer",method:"POST",data:e}),o=e=>l.ZP.request({url:"isExperienceUser",method:"POST",data:e}),c=e=>l.ZP.request({url:"isOfficialUser",method:"POST",data:e}),d=e=>l.ZP.request({url:"subUserList",method:"get",params:e})},3425:function(e,t,a){a.r(t),a.d(t,{default:()=>x});var l=a(4210);a(8246);var r=a(4936);a(276);var n=a(1346);a(3974);var s=a(9155);a(3720);var u=a(6653);a(5161);var i=a(3919);a(5454);var o=a(796),c=a(9395),d=a(6265),v=a(2250),m=a(4496),p=a(1277),g=a(352);a(7307);var h=a(2991);a(8491);let w={class:"top"},b={class:"time"},k={class:"time-content"},A={class:"value"},f={class:"value"},q={class:"value"},y={class:"page"},E={class:"container"},T={key:0},P={class:"list-top"},H={class:"list-title"},_={class:"progress"},C={class:"list-btm"},D={key:2,class:"rule_html"},U=["innerHTML"],Z={class:"popup-box"},S={class:"popup-box-cont"},j=["innerHTML"],N={class:"popup-box-button"},Y=(0,o.aZ)({__name:"Statement",emits:["loadData"],setup(e,t){let{emit:Y}=t;(0,m.A)();let x=(0,o.iH)(!1),z=(0,o.iH)([]),J=(0,o.iH)(),G=(0,o.iH)(!1),B=(e,t)=>e>=Number(t)?Number(t):e,M=(e,t)=>e>=Number(t)?0:Number(t)-e,F=(e,t,a)=>{let l=Number(a.statement);return e<l?0:l===Math.max(...t.map(e=>Number(e.statement)).filter(t=>e>=t))?2:1},I=(e,t)=>{t.sort((e,t)=>Number(e.statement)-Number(t.statement));let a=t[t.length-1];for(let a=0;a<t.length;a++)if(Number(t[a].statement)<=e&&(G.value=!0),Number(t[a].statement)>=e)return{remainingDays:Number(t[a].statement),needPoint:Number(t[a].statement)-e,points:t[a].reward};return{remainingDays:Number(a.statement),needPoint:Number(a.statement)-e,points:a.reward}};(0,o.Fl)(()=>z.value.length>0?I(z.value[0].currentCount,z.value[0].rule_list):{remainingDays:0,needPoint:0,points:0});let Q=(e,t)=>e/Number(t)*100>100?100:e/Number(t)*100||0,L=(0,o.iH)(!1),O=async e=>{if(!L.value){L.value=!0;try{let t=await (0,g.R9)({a_id:e});200===t.code&&(0,h.XA)({message:"领取成功",onClose:()=>{R()}})}finally{L.value=!1}}},R=async()=>{$&&(clearInterval($),$=null);let e=await (0,g.K3)({type:"all_statement"});200===e.code&&e.data&&(z.value=e.data,W.value=e.data[0].cycle?e.data[0].cycle:"",e.data[0].cycle&&(W.value=e.data[0].cycle||"week",ee(),$=setInterval(ee,6e4)))},W=(0,o.iH)("week"),X=(0,o.iH)("00"),V=(0,o.iH)("00"),K=(0,o.iH)("00"),$=null;function ee(){let e=(function(e){let t=new Date,a=new Date(t);switch(e){case"day":a.setHours(23,59,59,999);break;case"week":let l=t.getDay();a.setDate(t.getDate()+(0===l?0:7-l)),a.setHours(23,59,59,999);break;case"month":a.setMonth(a.getMonth()+1,0),a.setHours(23,59,59,999);break;case"quarter":let r=3*Math.floor(t.getMonth()/3)+2;a.setMonth(r+1,0),a.setHours(23,59,59,999);break;case"year":a.setMonth(11,31),a.setHours(23,59,59,999)}return a})(W.value).getTime()-Date.now();if(e<=0){X.value="00",V.value="00",K.value="00";return}let t=Math.floor(e/6e4),a=Math.floor(t/1440),l=Math.floor(t%1440/60);X.value=String(a).padStart(2,"0"),V.value=String(l).padStart(2,"0"),K.value=String(t%60).padStart(2,"0")}return(0,o.bv)(()=>{R()}),(0,o.SK)(()=>{$&&clearInterval($)}),(e,t)=>{let m=i.l2,g=u.Ee,h=s.zx,Y=n.Ex,G=r.HY,I=l.GI;return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(m,{class:"header","safe-area-inset-top":"",border:!1,fixed:"","z-index":"2","left-arrow":!1,placeholder:"",onClickLeft:t[0]||(t[0]=e=>(0,o.SU)(p.Z).back())},{left:(0,o.w5)(()=>t[4]||(t[4]=[(0,o._)("img",{src:c,alt:"icon",class:"back-icon"},null,-1)])),title:(0,o.w5)(()=>t[5]||(t[5]=[(0,o._)("p",{class:"title"},"周流水返利",-1)])),_:1}),(0,o._)("div",w,[(0,o._)("div",b,[t[9]||(t[9]=(0,o._)("span",{class:"time-title"},[(0,o._)("span",{class:"line"}),(0,o._)("span",null,"倒计时"),(0,o._)("span",{class:"line"})],-1)),(0,o._)("span",k,[(0,o._)("span",A,(0,o.zw)(X.value),1),t[6]||(t[6]=(0,o._)("span",null,"天",-1)),(0,o._)("span",f,(0,o.zw)(V.value),1),t[7]||(t[7]=(0,o._)("span",null,"时",-1)),(0,o._)("span",q,(0,o.zw)(K.value),1),t[8]||(t[8]=(0,o._)("span",null,"分",-1))])])]),(0,o._)("div",y,[(0,o._)("div",E,[z.value.length>0?((0,o.wg)(),(0,o.iD)("div",T,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(z.value[0].rule_list,(e,l)=>((0,o.wg)(),(0,o.iD)("div",{class:"list",key:l},[(0,o._)("div",P,[(0,o._)("div",null,[(0,o._)("div",H,[(0,o._)("span",null,"流水"+(0,o.zw)(e.statement)+"送"+(0,o.zw)(e.reward),1)])]),"1"==z.value[0].status&&0===z.value[0].receive&&0==F(z.value[0].currentCount,z.value[0].rule_list,e)?((0,o.wg)(),(0,o.j4)(g,{key:0,width:"72",src:a(8214)},null,8,["src"])):(0,o.kq)("",!0),1==F(z.value[0].currentCount,z.value[0].rule_list,e)&&"1"==z.value[0].status&&0===z.value[0].receive?((0,o.wg)(),(0,o.j4)(h,{key:1,block:"",round:"",class:"cancel_btn"},{default:(0,o.w5)(()=>t[10]||(t[10]=[(0,o.Uk)(" 立即领取 ")])),_:1})):(0,o.kq)("",!0),"1"==z.value[0].status&&0===z.value[0].receive&&2==F(z.value[0].currentCount,z.value[0].rule_list,e)?((0,o.wg)(),(0,o.j4)(g,{key:2,onClick:t[1]||(t[1]=e=>O(z.value[0].id)),width:"72",src:a(8299)},null,8,["src"])):(0,o.kq)("",!0),1===z.value[0].receive&&2==F(z.value[0].currentCount,z.value[0].rule_list,e)?((0,o.wg)(),(0,o.j4)(g,{key:3,width:"72",src:a(3243)},null,8,["src"])):(0,o.kq)("",!0)]),(0,o._)("div",_,[(0,o.Wm)(Y,{percentage:Q(z.value[0].currentCount,e.statement),"track-color":"#352918",color:"linear-gradient(90deg, rgba(255, 255, 255, 0.00) 86.33%, rgba(255, 255, 255, 0.70) 99.72%), linear-gradient(180deg, #F3E295 0%, #AB6E0F 100%)","stroke-width":"14","show-pivot":!1},null,8,["percentage"])]),(0,o._)("div",C,[(0,o._)("div",null,[t[11]||(t[11]=(0,o.Uk)("当前有效流水：")),(0,o._)("span",null,(0,o.zw)(B(z.value[0].currentCount,e.statement)),1)]),(0,o._)("div",null,[t[12]||(t[12]=(0,o.Uk)(" 预计还需投：")),(0,o._)("span",null,(0,o.zw)(M(z.value[0].currentCount,e.statement)),1)])])]))),128))])):((0,o.wg)(),(0,o.j4)(G,{key:1,description:"暂无活动"})),t[13]||(t[13]=(0,o._)("div",{class:"box-title"},[(0,o._)("div",{class:"title-left"}),(0,o._)("p",null,"活动规则")],-1)),z.value.length>0?((0,o.wg)(),(0,o.iD)("div",D,[(0,o._)("div",{innerHTML:z.value[0].activityDescribe},null,8,U)])):(0,o.kq)("",!0)])]),(0,o.Wm)(I,{show:x.value,"onUpdate:show":t[3]||(t[3]=e=>x.value=e),class:"popup",position:"center"},{default:(0,o.w5)(()=>[(0,o._)("div",Z,[t[14]||(t[14]=(0,o._)("div",{class:"popup-box-title"},[(0,o._)("img",{src:d,alt:"icon"}),(0,o._)("h3",null,"活动规则"),(0,o._)("img",{src:v,alt:"icon"})],-1)),(0,o._)("div",S,[(0,o._)("div",{innerHTML:J.value},null,8,j)]),(0,o._)("div",N,[(0,o.Wm)(h,{block:"",round:"",class:"btn",onClick:t[2]||(t[2]=e=>x.value=!1)},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)(e.$t("binding.confirm")),1)]),_:1})])])]),_:1},8,["show"])],64)}}}),x=(0,a(3744).default)(Y,[["__scopeId","data-v-a19f8114"]])}}]);