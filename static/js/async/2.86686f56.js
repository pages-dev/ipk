"use strict";(self.webpackChunkrebuild_vue3_vant4=self.webpackChunkrebuild_vue3_vant4||[]).push([["2"],{9258:function(){},3603:function(){},9395:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAcBSURBVHgB7VprUFRlGH6OCgioxa3MCwhyWwRDAS1LIEy8NIWjmDZDZdP0w2z610zTTM1U/uhiF9NuzljTTNOkpmVeSEHTUBMRlDu43HYFExYEEZZre/q+71w4y4GGPbssu44Pc+Ccs/t9nOe87/e+z/uew/EEuIsxCXc57hF0d7gdwaaafFQVHhnz992G4ECfGUVnvsNfhz8g+91jHjcFbgBTYznyT+5GV0czbIVLE6RWq8jfj+qiY+RIWzZzWYKtTRW4lPMVum9Tq/HQmq5dkmDVpV9QQTaLxQJwHOGnXYu4FEHznVbkH/8EHa0NzCE5Qo6nJO2AyxCsK/0DVQUH0d9rZsfEbnCEhpxwgj1drbjy5x6y5iqJJ1JrDaPlzi5aX3YS1woPob9PsJqSDP1D9zw9fdDX2wWtmBCC1GolZ/ei9YZkNQpeQY5nXMMXrkXM0ky0mxpw6QTJg7fdIA+2GK6gJG8vsVr3kMEYr6FV5+Hli4QVWzErLJEdPzBnAdKzdqDs732otkGmsVmdVQ8O9ptReu57NBuKGCte3CwWgSFNCXRvZsgiLE7bSkj6jDhPXflpdh/CYtPG9H+dQrC9+RrKCTmaBqhL8gqCAkkLJnt6IyphPeYvXA1HYlxddHDAjPriozBUnBpBiXAywYBZOsSnvgKf6UGqOQyVZ9De0oD4lC3QgnEj2NGiR+WFH2AmAUWAvNjkY+qGEYszEBq7SjWe6tCC3C9xo7YAIdHJ0AqHExwc6EFD6XFcr1JYjcUPTvyGcM5/ZjTikl8mVgtUzUF1aEHu1zB3tmBoAm1wKMHu9iaUnduDXtlqAobio/Bbt/Q5hCxYqRpPrUbVjL74uBiIFBNohMMIGsuzYSjLprqfXREn7rELFb8zdVog4tO2YYb/XNX4NpITC099SwJRi3xD7BQxDHYT7O2+hZrLP6GjWS+ckKKj+LkgmHkE61ZgfvzTmOJpHf5p+qi+/CtqS7JVqxSwX4/aRfBmTR6MFdnMtZTg2K0XFImXTwBilr0Av5lRqvGdt4y4fGInujtNwgmqYDBEShABvPO1aJ+5HbWFP6PTVDNi+AcszEHn6tIQGveUymoU+qLfcI1svCxl1PWDcJ84ODXINNfmobEqhzV++BErbR5TfQMQtTQL9z8YqRpPdWhR7i50thnZsTUtTjUfJ86pFWMm+O9gLxqK9qHtn7LRbjg7ETB7IaIeycIUD7XVDBW5qLly2KorJhe2oiWp1SzivJIQYCc1Ysxtw8H+Hkzy8AaG4iMDxw3lN+qKgXMeHpHcAAkmxoocFlSGu5zSarziU84OYhLGTNDLxw+hi55lm5e3H0sEUiARrohjJKrzf2Qbja5KeBDyyzM/JJH0GcG1IQ7jle7ACfOKkKxrT5CxufEbFJwI3fKtmB4YBnn9y4JFOLhZdxFXcz9jcm04whdlIHXjR/AhOZGXyyQJ1onCEW0LTZ1tLx9/xCx/FfPiMka9gp7uNhTlfAp94QHVZ95EnqVu+pjo0HWSGTFapLTXSe1q3T8UkYLFa96Gl6+/fE6SZNJ1GytP4fyht4h8a1ONj0xYh7TNOwjhIKvxQvpTiDtnBJnRMJWQS1z7DoJjhDqOU+Yt0cd6CLm8g2+i9urvqvG0RErZsB1hcavkIbJOY/v2OalDC95e4pbFp79g1rIML2wtPCt2aY5MWvMGvKeNUEUwPUqrCJNVpT8vJhVJK7dBC8alom8oPYZ6sgmkhJhJG7hyBU+2iPgMhJNacDgouUrS1TZUnZWrfZcjSNHV3kg6Z9+gh7UpJEtaZILU9aaTqiLhyddZ0BkOQ+VZ8uDlAOukzdOlICn9NWjBuPZkaFKvKzlKEnyuqJkt8l+J5GQiHmg0ldagElSEl1/cz5ajy1lQiRs1F1BbfES0pkDOem3ymBP5OKIS149Y4beb6uEXFAotcFrbkIpsGkWb9Odl61mUJMmPNxXphGTw//RgWq6XoYu0MsIWuFDbUAlKUE8Ed88dk7wepQjL4iYJKnOjkqFbssGqy0YFeqnY+I19dBPilm0e0/9zemd7dsRjpOEUxWrBRv05ocjlFMUtgZFEUFNTOXRJmQghAYY9wtbYune6BZWgD1+qycOXAfLITNkQllyXEg6cHYNmY6lVTrXFghP6lkVobDqS17+P+wKCrc5LaobeeWo9WdVwHGy1x4S/RkLXWXLmdkSS4GINXm5gyQ9nmDvbpktd5j2ZaEJwZdbncmChRAQygqDVqrdd6kUgSi79+Z2ITtqgavpqjRQu+aaTbkkmVr+4i5VR1vW97XDZV7l8ZwRh7ZbdCI9fI5zQ6KMu/65afPJLSM18F75EwmlpQrnFy3j0EfYTG98jVUUqbMWEJnotqCePsHlXe4Q9kbj3xq+7464n+B/Hlc3dLxSS1wAAAABJRU5ErkJggg=="},2276:function(e,a,l){e.exports=l.p+"static/image/upload.a198b00d.png"},3414:function(e,a,l){l.d(a,{CU:()=>r,LI:()=>i,cM:()=>d,ev:()=>s,hY:()=>u,jC:()=>o,rr:()=>n});var t=l(403);let i=e=>t.ZP.request({url:"upload",method:"POST",data:e,headers:{"Content-Type":"multipart/form-data"}}),o=e=>t.ZP.request({url:"deleteImage",method:"DELETE",data:e,headers:{"Content-type":"application/json"}}),r=e=>t.ZP.request({url:"bankAccounts",method:"POST",data:e,headers:{"Content-type":"application/json"}}),n=e=>t.ZP.request({url:"bankAccounts",method:"PUT",data:e,headers:{"Content-type":"application/json"}}),u=e=>t.ZP.request({url:"bankAccountsAll",method:"get",params:e,headers:{"Content-type":"application/json"}}),d=e=>t.ZP.request({url:"bankAccounts",method:"get",params:e,headers:{"Content-type":"application/json"}}),s=e=>t.ZP.request({url:"bankAccounts",method:"delete",params:e,headers:{"Content-type":"application/json"}})},7589:function(e,a,l){l.r(a),l.d(a,{default:()=>L});var t=l(9155);l(3720);var i=l(3794),o=l(796),r=l(6016),n=l(1884),u=l(3288);let[d,s,c]=(0,l(6460).do)("uploader");function m(e,a){return new Promise(l=>{if("file"===a){l();return}let t=new FileReader;t.onload=e=>{l(e.target.result)},"dataUrl"===a?t.readAsDataURL(e):"text"===a&&t.readAsText(e)})}function p(e,a){return(0,n.qo)(e).some(e=>!!e.file&&((0,n.mf)(a)?a(e.file):e.file.size>+a))}let v=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i,f=e=>v.test(e);function g(e){return!!e.isImage||(e.file&&e.file.type?0===e.file.type.indexOf("image"):e.url?f(e.url):"string"==typeof e.content&&0===e.content.indexOf("data:image"))}var b=l(1477),h=l(7085),w=l(4123),U=l(6169),A=l(6576),y=l(6653),k=l(8309),C=(0,o.aZ)({props:{name:r.Or,item:(0,r.ir)(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,reupload:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview","reupload"],setup(e,{emit:a,slots:l}){let t=()=>{let{status:a,message:l}=e.item;if("uploading"===a||"failed"===a){let e="failed"===a?(0,o.Wm)(w.JO,{name:"close",class:s("mask-icon")},null):(0,o.Wm)(k.gb,{class:s("loading")},null),t=(0,n.Xq)(l)&&""!==l;return(0,o.Wm)("div",{class:s("mask")},[e,t&&(0,o.Wm)("div",{class:s("mask-message")},[l])])}},i=l=>{let{name:t,item:i,index:o,beforeDelete:r}=e;l.stopPropagation(),(0,A.I)(r,{args:[i,{name:t,index:o}],done:()=>a("delete")})},r=()=>a("preview"),d=()=>a("reupload"),m=()=>{if(e.deletable&&"uploading"!==e.item.status){let e=l["preview-delete"];return(0,o.Wm)("div",{role:"button",class:s("preview-delete",{shadow:!e}),tabindex:0,"aria-label":c("delete"),onClick:i},[e?e():(0,o.Wm)(w.JO,{name:"cross",class:s("preview-delete-icon")},null)])}},p=()=>{if(l["preview-cover"]){let{index:a,item:t}=e;return(0,o.Wm)("div",{class:s("preview-cover")},[l["preview-cover"]((0,n.l7)({index:a},t))])}},v=()=>{let{item:a,lazyLoad:l,imageFit:t,previewSize:i,reupload:n}=e;return g(a)?(0,o.Wm)(y.Ee,{fit:t,src:a.objectUrl||a.content||a.url,class:s("preview-image"),width:Array.isArray(i)?i[0]:i,height:Array.isArray(i)?i[1]:i,lazyLoad:l,onClick:n?d:r},{default:p}):(0,o.Wm)("div",{class:s("file"),style:(0,u.Xn)(e.previewSize)},[(0,o.Wm)(w.JO,{class:s("file-icon"),name:"description"},null),(0,o.Wm)("div",{class:[s("file-name"),"van-ellipsis"]},[a.file?a.file.name:a.url]),p()])};return()=>(0,o.Wm)("div",{class:s("preview")},[v(),t(),m()])}});let S={name:(0,r.SI)(""),accept:(0,r.SQ)("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:(0,r.SI)(1/0),imageFit:(0,r.SQ)("cover"),resultType:(0,r.SQ)("dataUrl"),uploadIcon:(0,r.SQ)("photograph"),uploadText:String,deletable:r.J5,reupload:Boolean,afterRead:Function,showUpload:r.J5,modelValue:(0,r.Ce)(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:r.J5,previewOptions:Object,previewFullImage:r.J5,maxSize:{type:[Number,String,Function],default:1/0}};var x=(0,o.aZ)({name:d,props:S,emits:["delete","oversize","clickUpload","closePreview","clickPreview","clickReupload","update:modelValue"],setup(e,{emit:a,slots:l}){let t;let i=(0,o.iH)(),r=[],d=(0,o.iH)(-1),c=(0,o.iH)(!1),v=(a=e.modelValue.length)=>({name:e.name,index:a}),f=()=>{i.value&&(i.value.value="")},A=l=>{if(f(),p(l,e.maxSize)){if(Array.isArray(l)){let t=function(e,a){let l=[],t=[];return e.forEach(e=>{p(e,a)?t.push(e):l.push(e)}),{valid:l,invalid:t}}(l,e.maxSize);if(l=t.valid,a("oversize",t.invalid,v()),!l.length)return}else{a("oversize",l,v());return}}if(l=(0,o.qj)(l),d.value>-1){let t=[...e.modelValue];t.splice(d.value,1,l),a("update:modelValue",t),d.value=-1}else a("update:modelValue",[...e.modelValue,...(0,n.qo)(l)]);e.afterRead&&e.afterRead(l,v())},y=a=>{let{maxCount:l,modelValue:t,resultType:i}=e;if(Array.isArray(a)){let e=+l-t.length;a.length>e&&(a=a.slice(0,e)),Promise.all(a.map(e=>m(e,i))).then(e=>{A(a.map((a,l)=>{let t={file:a,status:"",message:"",objectUrl:URL.createObjectURL(a)};return e[l]&&(t.content=e[l]),t}))})}else m(a,i).then(e=>{let l={file:a,status:"",message:"",objectUrl:URL.createObjectURL(a)};e&&(l.content=e),A(l)})},k=a=>{let{files:l}=a.target;if(e.disabled||!l||!l.length)return;let t=1===l.length?l[0]:[].slice.call(l);if(e.beforeRead){let a=e.beforeRead(t,v());if(!a){f();return}if((0,n.tI)(a)){a.then(e=>{e?y(e):y(t)}).catch(f);return}}y(t)},S=()=>a("closePreview"),x=a=>{if(e.previewFullImage){let l=e.modelValue.filter(g),i=l.map(e=>(e.objectUrl&&!e.url&&"failed"!==e.status&&(e.url=e.objectUrl,r.push(e.url)),e.url)).filter(Boolean);t=(0,U.V)((0,n.l7)({images:i,startPosition:l.indexOf(a),onClose:S},e.previewOptions))}},j=(l,t)=>{let i=e.modelValue.slice(0);i.splice(t,1),a("update:modelValue",i),a("delete",l,v(t))},V=e=>{c.value=!0,d.value=e,(0,o.Y3)(()=>z())},q=()=>{c.value||(d.value=-1),c.value=!1},I=(t,i)=>{let r=["imageFit","deletable","reupload","previewSize","beforeDelete"],u=(0,n.l7)((0,n.ei)(e,r),(0,n.ei)(t,r,!0));return(0,o.Wm)(C,(0,o.dG)({item:t,index:i,onClick:()=>a(e.reupload?"clickReupload":"clickPreview",t,v(i)),onDelete:()=>j(t,i),onPreview:()=>x(t),onReupload:()=>V(i)},(0,n.ei)(e,["name","lazyLoad"]),u),(0,n.ei)(l,["preview-cover","preview-delete"]))},W=()=>{if(e.previewImage)return e.modelValue.map(I)},E=e=>a("clickUpload",e),F=()=>{let a=e.modelValue.length<+e.maxCount,t=e.readonly?null:(0,o.Wm)("input",{ref:i,type:"file",class:s("input"),accept:e.accept,capture:e.capture,multiple:e.multiple&&-1===d.value,disabled:e.disabled,onChange:k,onClick:q},null);return l.default?(0,o.wy)((0,o.Wm)("div",{class:s("input-wrapper"),onClick:E},[l.default(),t]),[[o.F8,a]]):(0,o.wy)((0,o.Wm)("div",{class:s("upload",{readonly:e.readonly}),style:(0,u.Xn)(e.previewSize),onClick:E},[(0,o.Wm)(w.JO,{name:e.uploadIcon,class:s("upload-icon")},null),e.uploadText&&(0,o.Wm)("span",{class:s("upload-text")},[e.uploadText]),t]),[[o.F8,e.showUpload&&a]])},z=()=>{i.value&&!e.disabled&&i.value.click()};return(0,o.Jd)(()=>{r.forEach(e=>URL.revokeObjectURL(e))}),(0,h.F)({chooseFile:z,reuploadFile:V,closeImagePreview:()=>{t&&t.close()}}),(0,b.aM)(()=>e.modelValue),()=>(0,o.Wm)("div",{class:s()},[(0,o.Wm)("div",{class:s("wrapper",{disabled:e.disabled})},[W(),F()])])}});let j=(0,i.n)(x);l(2136),l(8649),l(1058),l(1496),l(6376),l(7016),l(2057),l(3603),l(9258),l(5161);var V=l(5e3);l(9242);var q=l(3919);l(5454);var I=l(9395),W=l(3414),E=l(403),F=l(1277),z=l(9938),J=l(2991);l(8491);let N={class:"title"},B={key:0,class:"input-box"},R={class:"label"},T={class:"input-box-item"},P={key:1,class:"input-box"},D={key:2,class:"tips"},Y={class:"footer"},Z={class:"button"},O=(0,o.aZ)({__name:"Form",setup(e){let{beforeTitle:a,type:i,title:r,id:n}=(0,z.yj)().query,u=(0,o.iH)({accountNumber:"",accountName:"",platform:i}),d=(0,o.iH)([]),s=async e=>{let a=d.value.length;d.value[a-1]={...e,status:"uploading",message:"上传中..."};try{let l=new FormData;l.append("file",e.file),l.append("type",i||"");let t=await (0,W.LI)(l);200==t.code&&t.data&&(d.value[a-1]={url:E.v2+t.data.imageUrl,status:"done",message:"",imageId:t.data.imageId,imageUrl:t.data.imageUrl})}catch(l){d.value[a-1]={...e,status:"failed",message:"上传失败"}}},c=async e=>(200==(await (0,W.jC)({imageId:e.imageId,imageUrl:e.imageUrl})).code&&(d.value=d.value.filter(a=>a.imageId!=e.imageId)),!0),m=async()=>{if("usdt"==i){if(!u.value.accountNumber)return(0,J.CF)("请输入您的"+r+"地址")}else{if(!u.value.accountName)return(0,J.CF)("请输入您的姓名");if(!u.value.accountNumber)return(0,J.CF)("请输入您的"+r+"账号");if(0==d.value.length)return(0,J.CF)("请上传收款二维码")}let e=u.value;d.value.length>0&&(e.imageId=d.value[0].imageId),"添加"==a?200==(await (0,W.CU)(e)).code&&(0,J.XA)({message:"添加成功",onClose:()=>{F.Z.go(-2)}}):200==(await (0,W.rr)(e)).code&&(0,J.XA)({message:"修改成功",onClose:()=>{F.Z.go(-1)}})};return(0,o.bv)(async()=>{if("修改"==a){let e=await (0,W.cM)({id:Number(n)});200==e.code&&e.data&&(u.value.accountNumber=e.data.accountNumber,u.value.accountName=e.data.accountName,u.value.id=e.data.id,e.data.imageUrl&&d.value.push({url:E.v2+e.data.imageUrl,imageUrl:e.data.imageUrl,imageId:e.data.imageId,status:"done",message:""}))}}),(e,n)=>{let p=q.l2,v=V.gN,f=y.Ee,g=t.zx;return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(p,{border:!1,"left-arrow":!1,class:"header",fixed:"",placeholder:"","safe-area-inset-top":"",onClickLeft:n[0]||(n[0]=e=>(0,o.SU)(F.Z).back())},{left:(0,o.w5)(()=>n[5]||(n[5]=[(0,o._)("img",{alt:"icon",class:"back-icon",src:I},null,-1)])),title:(0,o.w5)(()=>[(0,o._)("p",N,(0,o.zw)((0,o.SU)(a))+(0,o.zw)((0,o.SU)(r)),1)]),_:1}),"alipay"==(0,o.SU)(i)||"wechat"==(0,o.SU)(i)?((0,o.wg)(),(0,o.iD)("div",B,[n[6]||(n[6]=(0,o._)("p",{class:"label"},"姓名",-1)),(0,o._)("div",{class:(0,o.C_)((0,o.SU)(u).accountName?"input-box-item input-box-item-focus":"input-box-item input-box-item-blur")},[(0,o.Wm)(v,{modelValue:(0,o.SU)(u).accountName,"onUpdate:modelValue":n[1]||(n[1]=e=>(0,o.SU)(u).accountName=e),modelModifiers:{trim:!0},type:"text",autocomplete:"off",clearable:"",placeholder:"请输入您的真实姓名"},null,8,["modelValue"])],2),(0,o._)("p",R,(0,o.zw)((0,o.SU)(r))+"账号",1),(0,o._)("div",{class:(0,o.C_)((0,o.SU)(u).accountNumber?"input-box-item input-box-item-focus":"input-box-item input-box-item-blur")},[(0,o.Wm)(v,{modelValue:(0,o.SU)(u).accountNumber,"onUpdate:modelValue":n[2]||(n[2]=e=>(0,o.SU)(u).accountNumber=e),modelModifiers:{trim:!0},type:"text",autocomplete:"off",clearable:"",placeholder:"请输入您的"+(0,o.SU)(r)+"账号"},null,8,["modelValue","placeholder"])],2),n[7]||(n[7]=(0,o._)("p",{class:"label"},"收款二维码",-1)),(0,o._)("div",T,[(0,o.Wm)(j,{"after-read":s,"before-delete":c,modelValue:(0,o.SU)(d),"onUpdate:modelValue":n[3]||(n[3]=e=>(0,o.dq)(d)?d.value=e:null),"max-count":1},{default:(0,o.w5)(()=>[(0,o.Wm)(f,{width:"80",src:l(2276)},null,8,["src"])]),_:1},8,["modelValue"])])])):(0,o.kq)("",!0),"usdt"==(0,o.SU)(i)?((0,o.wg)(),(0,o.iD)("div",P,[n[8]||(n[8]=(0,o._)("p",{class:"label"},"地址",-1)),(0,o._)("div",{class:(0,o.C_)((0,o.SU)(u).accountNumber?"input-box-item input-box-item-focus":"input-box-item input-box-item-blur")},[(0,o.Wm)(v,{modelValue:(0,o.SU)(u).accountNumber,"onUpdate:modelValue":n[4]||(n[4]=e=>(0,o.SU)(u).accountNumber=e),modelModifiers:{trim:!0},type:"text",autocomplete:"off",clearable:"",placeholder:"请输入您的"+(0,o.SU)(r)+"地址"},null,8,["modelValue","placeholder"])],2)])):(0,o.kq)("",!0),"usdt"!=(0,o.SU)(i)?((0,o.wg)(),(0,o.iD)("div",D," 提示：请务必填写真实有效的提现信息，包括姓名、账号及收款二维码。信息有误将导致无法成功到账。 ")):(0,o.kq)("",!0),(0,o._)("div",Y,[(0,o._)("div",Z,[(0,o.Wm)(g,{round:"",block:"",onClick:m},{default:(0,o.w5)(()=>n[9]||(n[9]=[(0,o.Uk)("确认")])),_:1})])])],64)}}}),L=(0,l(3744).default)(O,[["__scopeId","data-v-8432caa4"]])}}]);