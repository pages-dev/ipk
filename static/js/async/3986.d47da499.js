"use strict";(self.webpackChunkrebuild_vue3_vant4=self.webpackChunkrebuild_vue3_vant4||[]).push([["3986"],{8642:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFeSURBVHgB3ZUxbsIwFIaf7YiuOUJuAL1BuUGO0C5FERISSyW6JJkqdSkLYmx7A3qC9gblCDlCtiIF+/UZRAhVHDsIhvIviRPrfbbe5wTgv4e5TJrNnnueUjEg9mgYGErljONCCkijaJI5A+bzp4AX7BsAfXAKgQTv3w8flnrEbdOFZLF7cR301Vomu5EVgApuoGUYg+7u3rNNRsQPzlm38sjHbS+aEpQwOCKvL4m/ElchbT8GQ9MHo8mm9sEOXG0pyBYgW9QKvrhoFqDsgbbFk+qTiofm4jroU19utVmiI6gwS6EhJeBYWzry580JQKsKoWW0LXfjJKe7zApot/oywRaE2R90XgM4XRiQBOcDsFxKSE8K0Idx0wfGF2vJ+9F4/7GznmSXDEaPU7pM696dpQcGgFk1c/a2WAHk9BJapmqLFVBwnrqsqFL+wBYrYEh/ICXxGhDem0H1tlxufgHaUoPLgdU3dAAAAABJRU5ErkJggg=="},4167:function(e,t,l){e.exports=l.p+"static/image/join.a28f54ff.png"},6815:function(e,t,l){e.exports=l.p+"static/image/joined.8aafe73f.png"},1066:function(e,t,l){e.exports=l.p+"static/image/settlement.f264d8ec.png"},9968:function(e,t,l){l.d(t,{JV:()=>s,W1:()=>o,W2:()=>i});var a=l(403);let s=()=>a.ZP.request({url:"camp/role/list",method:"get",headers:{"Content-type":"application/json"}}),i=()=>a.ZP.request({url:"bet/types",method:"get",headers:{"Content-type":"application/json"}}),o=e=>a.ZP.request({url:"bet/place",method:"POST",data:e,headers:{"Content-type":"application/json"}})},8970:function(e,t,l){l.d(t,{$J:()=>n,Fy:()=>s,O:()=>i,UV:()=>d,fk:()=>c,u5:()=>o,yl:()=>u});var a=l(403);let s=e=>a.ZP.request({url:"room/list",method:"GET",params:e,headers:{"Content-type":"application/json"}}),i=()=>a.ZP.request({url:"/config/list",method:"GET",headers:{"Content-type":"application/json"}}),o=e=>a.ZP.request({url:"/room/gen",method:"POST",data:e,headers:{"Content-type":"application/json"}}),n=e=>a.ZP.request({url:"room/join",method:"post",data:e,headers:{"Content-type":"application/json"}}),u=()=>a.ZP.request({url:"room/match",method:"get",headers:{"Content-type":"application/json"}}),c=e=>a.ZP.request({url:"room/detail",method:"GET",params:e,headers:{"Content-type":"application/json"}}),d=e=>a.ZP.request({url:"room/refresh",method:"post",data:e,headers:{"Content-type":"application/json"}})},2749:function(e,t,l){l.d(t,{Z:()=>p});var a=l(4210);l(8246);var s=l(9155);l(3720);var i=l(796),o=l(6265),n=l(2250),u=l(1277);let c={class:"popup-box"},d={class:"popup-box-button"},r=(0,i.aZ)({__name:"BalancePopup",emits:["confirm"],setup(e,t){let{expose:l,emit:r}=t,p=(0,i.iH)(!1);l({show:p});let m=()=>{p.value=!1,r("confirm"),u.Z.push("/topUp")};return(e,t)=>{let l=s.zx,u=a.GI;return(0,i.wg)(),(0,i.j4)(u,{show:(0,i.SU)(p),"onUpdate:show":t[0]||(t[0]=e=>(0,i.dq)(p)?p.value=e:null),class:"popup",position:"center"},{default:(0,i.w5)(()=>[(0,i._)("div",c,[t[2]||(t[2]=(0,i._)("div",{class:"popup-box-title"},[(0,i._)("img",{alt:"icon",src:o}),(0,i._)("h3",null,"温馨提示"),(0,i._)("img",{alt:"icon",src:n})],-1)),t[3]||(t[3]=(0,i._)("div",{class:"popup-box-cont"},[(0,i._)("p",null,"当前余额不足，请立即充值")],-1)),(0,i._)("div",d,[(0,i.Wm)(l,{block:"",class:"btn",round:"",onClick:m},{default:(0,i.w5)(()=>t[1]||(t[1]=[(0,i.Uk)("立即充值")])),_:1})])])]),_:1},8,["show"])}}}),p=(0,l(3744).default)(r,[["__scopeId","data-v-4ac0f2c6"]])},5397:function(e,t,l){l.d(t,{Z:()=>q});var a=l(4210);l(8246);var s=l(9155);l(3720);var i=l(796),o=l(6265),n=l(2250);let u={class:"popup-box"},c={class:"popup-box-title"},d={class:"popup-box-cont"},r={class:"flex"},p={class:"value"},m={class:"flex"},_={class:"value"},v={class:"flex"},w={class:"value"},f={class:"flex"},b={class:"value"},h={class:"flex"},g={class:"value"},x={class:"flex"},A={class:"value"},k={class:"flex"},C={class:"value"},U={class:"flex"},y={class:"value"},j={class:"flex"},I={class:"value"},z={class:"popup-box-button"},Z=(0,i.aZ)({__name:"DescPopup",props:{item:{type:Object,required:!0},camp_id:{type:Object,required:!0},role_id:{type:Object,required:!0}},emits:["confirm"],setup(e,t){let{expose:l,emit:Z}=t,q=(0,i.iH)(!1);l({show:q});let W=()=>{q.value=!1,Z("confirm")};return(t,l)=>{let Z=s.zx,B=a.GI;return(0,i.wg)(),(0,i.j4)(B,{show:(0,i.SU)(q),"onUpdate:show":l[1]||(l[1]=e=>(0,i.dq)(q)?q.value=e:null),class:"popup",position:"center"},{default:(0,i.w5)(()=>[(0,i._)("div",u,[(0,i._)("div",c,[l[2]||(l[2]=(0,i._)("img",{alt:"icon",src:o},null,-1)),(0,i._)("h3",null,"加入房间将扣除"+(0,i.zw)(e.item.ticket)+"积分",1),l[3]||(l[3]=(0,i._)("img",{alt:"icon",src:n},null,-1))]),(0,i._)("div",d,[(0,i._)("div",r,[l[4]||(l[4]=(0,i._)("div",{class:"label"},"房间ID",-1)),(0,i._)("div",p,(0,i.zw)(e.item.room_id),1)]),(0,i._)("div",m,[l[5]||(l[5]=(0,i._)("div",{class:"label"},"参赛营地ID",-1)),(0,i._)("div",_,(0,i.zw)(e.camp_id.camp_name),1)]),(0,i._)("div",v,[l[6]||(l[6]=(0,i._)("div",{class:"label"},"参赛角色",-1)),(0,i._)("div",w,(0,i.zw)(e.role_id.role_name),1)]),(0,i._)("div",f,[l[7]||(l[7]=(0,i._)("div",{class:"label"},"人数",-1)),(0,i._)("div",b,(0,i.zw)(e.item.room_count),1)]),(0,i._)("div",h,[l[8]||(l[8]=(0,i._)("div",{class:"label"},"赢家人数",-1)),(0,i._)("div",g,(0,i.zw)(e.item.winner_count),1)]),(0,i._)("div",x,[l[9]||(l[9]=(0,i._)("div",{class:"label"},"门票",-1)),(0,i._)("div",A,(0,i.zw)(e.item.ticket),1)]),(0,i._)("div",k,[l[10]||(l[10]=(0,i._)("div",{class:"label"},"奖励",-1)),(0,i._)("div",C,(0,i.zw)(e.item.profit),1)]),(0,i._)("div",U,[l[11]||(l[11]=(0,i._)("div",{class:"label"},"房主抽水",-1)),(0,i._)("div",y,(0,i.zw)(e.item.owner_rate)+"%",1)]),l[13]||(l[13]=(0,i._)("div",{class:"flex"},[(0,i._)("div",{class:"label"},"打擂模式"),(0,i._)("div",{class:"value"},"游戏评分")],-1)),(0,i._)("div",j,[l[12]||(l[12]=(0,i._)("div",{class:"label"},"结束时间",-1)),(0,i._)("div",I,[(0,i._)("span",null,(0,i.zw)(e.item.end_At),1)])]),l[14]||(l[14]=(0,i._)("div",{class:"tips"},"提示",-1)),l[15]||(l[15]=(0,i._)("div",{class:"tips"},"仅支持单双排或匹配赛的5v5对局参与评分计算",-1))]),(0,i._)("div",z,[(0,i.Wm)(Z,{block:"",class:"btn",round:"",onClick:W},{default:(0,i.w5)(()=>l[16]||(l[16]=[(0,i.Uk)("立即加入")])),_:1}),(0,i.Wm)(Z,{block:"",class:"btn_1",round:"",onClick:l[0]||(l[0]=e=>q.value=!1)},{default:(0,i.w5)(()=>l[17]||(l[17]=[(0,i.Uk)("取消")])),_:1})])])]),_:1},8,["show"])}}}),q=(0,l(3744).default)(Z,[["__scopeId","data-v-ecb6959a"]])},5740:function(e,t,l){l.d(t,{Z:()=>m});var a=l(4210);l(8246);var s=l(7409);l(5998);var i=l(4936);l(276);var o=l(796),n=l(6265),u=l(2250),c=l(4496),d=l(1277);let r={class:"popup-box"},p=(0,o.aZ)({__name:"RolePopup",emits:["confirm"],setup(e,t){let{expose:l,emit:p}=t,m=(0,c.A)(),_=(0,o.iH)(!1);l({showCampId:_});let v=(0,o.iH)(m.camp_id),w=(0,o.iH)(m.role_id),f=e=>{v.value={camp_id:e.selectedOptions[0].value,camp_name:e.selectedOptions[0].text},w.value={role_id:e.selectedOptions[1].value,role_name:e.selectedOptions[1].text},_.value=!1,p("confirm",{camp_id:v.value,role_id:w.value})};return(e,t)=>{let l=i.HY,c=s.cW,p=a.GI;return(0,o.wg)(),(0,o.j4)(p,{class:"popup",show:(0,o.SU)(_),"onUpdate:show":t[1]||(t[1]=e=>(0,o.dq)(_)?_.value=e:null),round:"",position:"bottom"},{default:(0,o.w5)(()=>[(0,o._)("div",r,[t[2]||(t[2]=(0,o._)("div",{class:"popup-box-title"},[(0,o._)("img",{src:n,alt:"icon"}),(0,o._)("h3",null,"选择ID和角色"),(0,o._)("img",{src:u,alt:"icon"})],-1)),(0,o.Wm)(c,{"model-value":[(0,o.SU)(v).camp_id,(0,o.SU)(w).role_id],columns:(0,o.SU)(m).campDataList,onCancel:t[0]||(t[0]=e=>(0,o.SU)(d.Z).push("/binding")),"confirm-button-text":"确认","cancel-button-text":"添加营地ID",onConfirm:f},{empty:(0,o.w5)(()=>[(0,o.Wm)(l,{"image-size":"80",description:"暂无数据"})]),_:1},8,["model-value","columns"])])]),_:1},8,["show"])}}}),m=(0,l(3744).default)(p,[["__scopeId","data-v-1035e7b9"]])},198:function(e,t,l){l.d(t,{Z:()=>V});var a=l(5e3);l(9242);var s=l(4210);l(8246);var i=l(9155);l(3720);var o=l(1346);l(3974);var n=l(6653);l(5161);var u=l(796),c=l(6265),d=l(2250),r=l(4496),p=l(7307),m=l(8970),_=l(1277),v=l(9502),w=l(5740),f=l(5397),b=l(2749),h=l(2991),g=l(2829);l(8491),l(888);let x={class:"item-top"},A={class:"uid"},k={class:"status-title"},C={key:0,class:"item-top"},U={class:"uid"},y={class:"item-top mt16"},j={class:"flex-item"},I={class:"value"},z={class:"flex-item"},Z={class:"value"},q={class:"flex-item"},W={class:"value"},B={class:"flex-item"},H={class:"value"},E={class:"progress-box"},D={class:"progress"},F={class:"progress-value"},P={class:"item-btm"},S={class:"value"},G={class:"popup-box"},O={class:"popup-box-button"},J={class:"popup-box"},R={class:"popup-box-cont"},Y={class:"popup-box-button"},T=(0,u.aZ)({__name:"RoomItem",props:{item:{type:Object,required:!0},hideBtn:{type:Boolean,default:!1},showLock:{type:Boolean,default:!1},isMultiple:{type:Boolean,default:!1}},emits:["confirm"],setup(e,t){let{emit:T}=t,V=(0,r.A)(),X=(0,u.iH)(!1),L=(0,u.iH)(!1),Q=(0,u.iH)(""),M=(0,u.iH)(),K=(0,u.iH)(),N=(0,u.iH)(),$=(0,u.iH)(),ee=(0,u.iH)({camp_id:"",camp_name:""}),et=(0,u.iH)({role_id:"",role_name:""}),el=e=>{navigator.clipboard.writeText(e).then(()=>{(0,h.XA)("复制成功")}).catch(e=>{(0,h.LJ)(e)})},ea=()=>{(0,g.WD)({message:`请确认结算ID为${e.item.room_id}的房间？`}).then(()=>{(0,m.UV)({room_id:e.item.room_id}).then(e=>{200==e.code&&((0,h.XA)("结算成功"),er(),ec("confirm"))})}).catch(()=>{})},es=t=>{if(!t){if((0===e.item.status||1===e.item.status)&&!e.item.is_join)return M.value.show=!0;_.Z.push({path:"/roomDetail",query:{room_id:e.item.room_id}})}},ei=()=>new Date(e.item.end_At).getTime()-Date.now()<18e5?X.value=!0:e.item.pwd?L.value=!0:void(K.value.showCampId=!0),eo=()=>{if(X.value=!1,e.item.pwd)return L.value=!0;K.value.showCampId=!0},en=async()=>{if(!Q.value){(0,h.CF)("请输入房间密码");return}if(Q.value!==e.item.pwd){(0,h.CF)("密码错误！！\n请与房主确认房间密码是否正确");return}L.value=!1,K.value.showCampId=!0},eu=e=>{ee.value=e.camp_id,et.value=e.role_id,N.value.show=!0},ec=T,ed=async()=>{if(V.userInfo.balance<e.item.ticket)return $.value.show=!0;let t=[];t=e.item.pwd?[{room_id:e.item.room_id,pwd:Q.value}]:[{room_id:e.item.room_id}],200===(await (0,m.$J)({room_list:t,camp_id:ee.value.camp_id,role_id:et.value.role_id})).code&&(0,h.CF)({message:"请尽快使用参赛角色完成游戏",onClose:()=>{er(),ec("confirm")}})},er=()=>{if(!V.token)return _.Z.push("/login");(0,p.bG)().then(e=>{200===e.code&&V.setUserInfo(e.data)})},ep=(e,t)=>{let l=e/t*100;return l>100?100:l},em=e=>{switch(e){case 0:case 1:default:return"匹配中";case 2:return"进行中";case 3:return"已结束";case 4:return"已失效"}};return(t,r)=>{let p=n.Ee,m=o.Ex,_=i.zx,h=s.GI,g=a.gN;return(0,u.wg)(),(0,u.iD)(u.HY,null,[(0,u._)("div",{class:"item",onClick:r[3]||(r[3]=t=>es(e.isMultiple))},[(0,u._)("div",{class:(0,u.C_)(e.item.pwd?"item-card item-card-lock":"item-card")},[(0,u._)("div",x,[(0,u._)("div",A,[(0,u._)("span",null,"ID："+(0,u.zw)(e.item.room_id),1),(0,u.Wm)(p,{width:"12",src:l(8642),onClick:r[0]||(r[0]=(0,u.iM)(t=>el(e.item.room_id),["stop"]))},null,8,["src"])]),(0,u._)("div",{class:(0,u.C_)(0===e.item.status||1===e.item.status?"status-title match":2===e.item.status?"status-title inprogress":3===e.item.status?"status-title ended":4===e.item.status?"status-title expired":"status-title match")},(0,u.zw)(em(e.item.status)),3),(0,u._)("div",k,[r[8]||(r[8]=(0,u.Uk)("门票：")),(0,u._)("span",null,(0,u.zw)(e.item.ticket),1)])]),e.showLock&&e.item.pwd?((0,u.wg)(),(0,u.iD)("div",C,[(0,u._)("div",U,[(0,u._)("span",null,"密码："+(0,u.zw)(e.item.pwd),1)])])):(0,u.kq)("",!0),(0,u._)("div",y,[(0,u._)("div",j,[r[9]||(r[9]=(0,u._)("div",{class:"label"},"输家",-1)),(0,u._)("div",I,(0,u.zw)(e.item.room_count-e.item.winner_count),1)]),(0,u._)("div",z,[r[10]||(r[10]=(0,u._)("div",{class:"label"},"赢家",-1)),(0,u._)("div",Z,(0,u.zw)(e.item.winner_count),1)]),(0,u._)("div",q,[r[11]||(r[11]=(0,u._)("div",{class:"label"},"奖励",-1)),(0,u._)("div",W,(0,u.zw)(e.item.profit),1)]),(0,u._)("div",B,[r[12]||(r[12]=(0,u._)("div",{class:"label"},"抽水",-1)),(0,u._)("div",H,(0,u.zw)(e.item.owner_rate)+"%",1)])]),(0,u._)("div",E,[(0,u._)("div",D,[(0,u.Wm)(m,{percentage:ep(e.item.user_count,e.item.room_count),"track-color":"#352918",color:"linear-gradient(90deg, rgba(255, 255, 255, 0.00) 86.33%, rgba(255, 255, 255, 0.70) 99.72%), linear-gradient(180deg, #F3E295 0%, #AB6E0F 100%)","stroke-width":"14","show-pivot":!1},null,8,["percentage"])]),(0,u._)("div",F,(0,u.zw)(e.item.user_count)+"/"+(0,u.zw)(e.item.room_count),1)]),(0,u._)("div",P,[(0,u._)("div",null,[r[13]||(r[13]=(0,u._)("span",{class:"label"},"结束时间：",-1)),(0,u._)("span",S,(0,u.zw)(e.item.end_At),1)]),e.hideBtn||0!==e.item.status&&1!==e.item.status||e.item.is_join?(0,u.kq)("",!0):((0,u.wg)(),(0,u.j4)(p,{key:0,onClick:r[1]||(r[1]=(0,u.iM)(e=>es(!1),["stop"])),width:"72",src:l(4167)},null,8,["src"])),!e.hideBtn&&e.item.is_join&&2!==e.item.status?((0,u.wg)(),(0,u.j4)(p,{key:1,onClick:r[2]||(r[2]=(0,u.iM)(e=>es(!1),["stop"])),width:"72",src:l(6815)},null,8,["src"])):(0,u.kq)("",!0),!e.hideBtn&&e.item.is_join&&2===e.item.status?((0,u.wg)(),(0,u.j4)(p,{key:2,onClick:(0,u.iM)(ea,["stop"]),width:"72",src:l(1066)},null,8,["src"])):(0,u.kq)("",!0)])],2)]),(0,u.Wm)(h,{show:X.value,"onUpdate:show":r[5]||(r[5]=e=>X.value=e),class:"popup",position:"center"},{default:(0,u.w5)(()=>[(0,u._)("div",G,[r[16]||(r[16]=(0,u._)("div",{class:"popup-box-title"},[(0,u._)("img",{alt:"icon",src:c}),(0,u._)("h3",null,"温馨提示"),(0,u._)("img",{alt:"icon",src:d})],-1)),r[17]||(r[17]=(0,u._)("div",{class:"popup-box-cont"},[(0,u._)("p",null,"房间剩余时间不足 30 分钟，是否确认加入?若在该时间内未完成对局，已扣积分将不予退还。")],-1)),(0,u._)("div",O,[(0,u.Wm)(_,{block:"",class:"btn",round:"",onClick:eo},{default:(0,u.w5)(()=>r[14]||(r[14]=[(0,u.Uk)("确认")])),_:1}),(0,u.Wm)(_,{block:"",class:"btn_1",round:"",onClick:r[4]||(r[4]=e=>X.value=!1)},{default:(0,u.w5)(()=>r[15]||(r[15]=[(0,u.Uk)("取消")])),_:1})])])]),_:1},8,["show"]),(0,u.Wm)(h,{show:L.value,"onUpdate:show":r[7]||(r[7]=e=>L.value=e),class:"popup",position:"center"},{default:(0,u.w5)(()=>[(0,u._)("div",J,[r[19]||(r[19]=(0,u._)("div",{class:"popup-box-title"},[(0,u._)("img",{alt:"icon",src:c}),(0,u._)("h3",null,"请输入房间密码"),(0,u._)("img",{alt:"icon",src:d})],-1)),(0,u._)("div",R,[(0,u._)("div",{class:(0,u.C_)(Q.value?"input-box input-box-focus":"input-box input-box-blur")},[(0,u.Wm)(g,{modelValue:Q.value,"onUpdate:modelValue":r[6]||(r[6]=e=>Q.value=e),modelModifiers:{trim:!0},type:"password",autocomplete:"off",clearable:"",placeholder:"请输入房间密码"},null,8,["modelValue"])],2)]),(0,u._)("div",Y,[(0,u.Wm)(_,{block:"",class:"btn",round:"",onClick:en},{default:(0,u.w5)(()=>r[18]||(r[18]=[(0,u.Uk)("确认")])),_:1})])])]),_:1},8,["show"]),(0,u.Wm)(v.Z,{ref_key:"rule",ref:M,onConfirm:ei},null,512),(0,u.Wm)(w.Z,{ref_key:"role",ref:K,onConfirm:eu},null,512),(0,u.Wm)(f.Z,{ref_key:"desc",ref:N,onConfirm:ed,item:e.item,camp_id:ee.value,role_id:et.value},null,8,["item","camp_id","role_id"]),(0,u.Wm)(b.Z,{ref_key:"balance",ref:$},null,512)],64)}}}),V=(0,l(3744).default)(T,[["__scopeId","data-v-09b53370"]])},9502:function(e,t,l){l.d(t,{Z:()=>r});var a=l(4210);l(8246);var s=l(9155);l(3720);var i=l(796),o=l(6265),n=l(2250);let u={class:"popup-box"},c={class:"popup-box-button"},d=(0,i.aZ)({__name:"RulePopup",emits:["confirm"],setup(e,t){let{expose:l,emit:d}=t,r=(0,i.iH)(!1);l({show:r});let p=()=>{r.value=!1,d("confirm")};return(e,t)=>{let l=s.zx,d=a.GI;return(0,i.wg)(),(0,i.j4)(d,{show:(0,i.SU)(r),"onUpdate:show":t[0]||(t[0]=e=>(0,i.dq)(r)?r.value=e:null),class:"popup",position:"center"},{default:(0,i.w5)(()=>[(0,i._)("div",u,[t[2]||(t[2]=(0,i._)("div",{class:"popup-box-title"},[(0,i._)("img",{alt:"icon",src:o}),(0,i._)("h3",null,"评分规则"),(0,i._)("img",{alt:"icon",src:n})],-1)),t[3]||(t[3]=(0,i._)("div",{class:"popup-box-cont"},[(0,i._)("p",null,"1、每队共5人，剔除最高分和最低分各1人；"),(0,i._)("p",null,"2、剩余3人评分相加，作为该队有效得分；"),(0,i._)("p",null,"3、得分高的一方获胜；"),(0,i._)("p",null,"4、若得分相同，按游戏结束时间早的队伍胜；"),(0,i._)("p",null,"5、若结束时间也相同，再按玩家个人评分顺序判定。")],-1)),(0,i._)("div",c,[(0,i.Wm)(l,{block:"",class:"btn",round:"",onClick:p},{default:(0,i.w5)(()=>t[1]||(t[1]=[(0,i.Uk)("确认")])),_:1})])])]),_:1},8,["show"])}}}),r=(0,l(3744).default)(d,[["__scopeId","data-v-511f8aee"]])}}]);