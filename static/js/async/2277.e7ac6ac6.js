"use strict";(self.webpackChunkrebuild_vue3_vant4=self.webpackChunkrebuild_vue3_vant4||[]).push([["2277"],{9395:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAcBSURBVHgB7VprUFRlGH6OCgioxa3MCwhyWwRDAS1LIEy8NIWjmDZDZdP0w2z610zTTM1U/uhiF9NuzljTTNOkpmVeSEHTUBMRlDu43HYFExYEEZZre/q+71w4y4GGPbssu44Pc+Ccs/t9nOe87/e+z/uew/EEuIsxCXc57hF0d7gdwaaafFQVHhnz992G4ECfGUVnvsNfhz8g+91jHjcFbgBTYznyT+5GV0czbIVLE6RWq8jfj+qiY+RIWzZzWYKtTRW4lPMVum9Tq/HQmq5dkmDVpV9QQTaLxQJwHOGnXYu4FEHznVbkH/8EHa0NzCE5Qo6nJO2AyxCsK/0DVQUH0d9rZsfEbnCEhpxwgj1drbjy5x6y5iqJJ1JrDaPlzi5aX3YS1woPob9PsJqSDP1D9zw9fdDX2wWtmBCC1GolZ/ei9YZkNQpeQY5nXMMXrkXM0ky0mxpw6QTJg7fdIA+2GK6gJG8vsVr3kMEYr6FV5+Hli4QVWzErLJEdPzBnAdKzdqDs732otkGmsVmdVQ8O9ptReu57NBuKGCte3CwWgSFNCXRvZsgiLE7bSkj6jDhPXflpdh/CYtPG9H+dQrC9+RrKCTmaBqhL8gqCAkkLJnt6IyphPeYvXA1HYlxddHDAjPriozBUnBpBiXAywYBZOsSnvgKf6UGqOQyVZ9De0oD4lC3QgnEj2NGiR+WFH2AmAUWAvNjkY+qGEYszEBq7SjWe6tCC3C9xo7YAIdHJ0AqHExwc6EFD6XFcr1JYjcUPTvyGcM5/ZjTikl8mVgtUzUF1aEHu1zB3tmBoAm1wKMHu9iaUnduDXtlqAobio/Bbt/Q5hCxYqRpPrUbVjL74uBiIFBNohMMIGsuzYSjLprqfXREn7rELFb8zdVog4tO2YYb/XNX4NpITC099SwJRi3xD7BQxDHYT7O2+hZrLP6GjWS+ckKKj+LkgmHkE61ZgfvzTmOJpHf5p+qi+/CtqS7JVqxSwX4/aRfBmTR6MFdnMtZTg2K0XFImXTwBilr0Av5lRqvGdt4y4fGInujtNwgmqYDBEShABvPO1aJ+5HbWFP6PTVDNi+AcszEHn6tIQGveUymoU+qLfcI1svCxl1PWDcJ84ODXINNfmobEqhzV++BErbR5TfQMQtTQL9z8YqRpPdWhR7i50thnZsTUtTjUfJ86pFWMm+O9gLxqK9qHtn7LRbjg7ETB7IaIeycIUD7XVDBW5qLly2KorJhe2oiWp1SzivJIQYCc1Ysxtw8H+Hkzy8AaG4iMDxw3lN+qKgXMeHpHcAAkmxoocFlSGu5zSarziU84OYhLGTNDLxw+hi55lm5e3H0sEUiARrohjJKrzf2Qbja5KeBDyyzM/JJH0GcG1IQ7jle7ACfOKkKxrT5CxufEbFJwI3fKtmB4YBnn9y4JFOLhZdxFXcz9jcm04whdlIHXjR/AhOZGXyyQJ1onCEW0LTZ1tLx9/xCx/FfPiMka9gp7uNhTlfAp94QHVZ95EnqVu+pjo0HWSGTFapLTXSe1q3T8UkYLFa96Gl6+/fE6SZNJ1GytP4fyht4h8a1ONj0xYh7TNOwjhIKvxQvpTiDtnBJnRMJWQS1z7DoJjhDqOU+Yt0cd6CLm8g2+i9urvqvG0RErZsB1hcavkIbJOY/v2OalDC95e4pbFp79g1rIML2wtPCt2aY5MWvMGvKeNUEUwPUqrCJNVpT8vJhVJK7dBC8alom8oPYZ6sgmkhJhJG7hyBU+2iPgMhJNacDgouUrS1TZUnZWrfZcjSNHV3kg6Z9+gh7UpJEtaZILU9aaTqiLhyddZ0BkOQ+VZ8uDlAOukzdOlICn9NWjBuPZkaFKvKzlKEnyuqJkt8l+J5GQiHmg0ldagElSEl1/cz5ajy1lQiRs1F1BbfES0pkDOem3ymBP5OKIS149Y4beb6uEXFAotcFrbkIpsGkWb9Odl61mUJMmPNxXphGTw//RgWq6XoYu0MsIWuFDbUAlKUE8Ed88dk7wepQjL4iYJKnOjkqFbssGqy0YFeqnY+I19dBPilm0e0/9zemd7dsRjpOEUxWrBRv05ocjlFMUtgZFEUFNTOXRJmQghAYY9wtbYune6BZWgD1+qycOXAfLITNkQllyXEg6cHYNmY6lVTrXFghP6lkVobDqS17+P+wKCrc5LaobeeWo9WdVwHGy1x4S/RkLXWXLmdkSS4GINXm5gyQ9nmDvbpktd5j2ZaEJwZdbncmChRAQygqDVqrdd6kUgSi79+Z2ITtqgavpqjRQu+aaTbkkmVr+4i5VR1vW97XDZV7l8ZwRh7ZbdCI9fI5zQ6KMu/65afPJLSM18F75EwmlpQrnFy3j0EfYTG98jVUUqbMWEJnotqCePsHlXe4Q9kbj3xq+7464n+B/Hlc3dLxSS1wAAAABJRU5ErkJggg=="},6339:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAWCAYAAAChWZ5EAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI5SURBVHgBrZYxc9MwFMffk33hLpM/Qj5COrPUY7fCxnGl0cDQC0M6YMpUc8dxXDtkwe3o0IZjTJkY04U5/ggZGbM0C44eeqYuSZBjifY/ObKk3y9PUhS8PI+O9w5O3oFDvp4ftXKiFBS1ASEAxCsf8fDZwcepyzxfkuhYgIKYJWwHFfCFmgDRdgHnEO3mSk34ne08DFcAsSg+aYlh8ia1GZiT6t+BVxMUVXGA87MoGwmowxKjfhxsHE2wW/1OL0lNmFHCVwRKiZvGfFwjMdvwLqiDM2O5Tax3IoA2S1StJyJmUBEC/AYOcKMA3EoslDJK/EKUYKoCwWwhsLfePErjYJhEExO8ECAQskKiZZKQ+qjlQmzpjXhVgnVVrnNPbMm1Y8jwm/l8zF/IzCCJ/JAmr9s+4BgMa6g7TD0hQtczvhGupQnp8EX3dIBlG0t4IEYI1DJJIPhPnnc/ZGARrhpXj6togudIoeyeZrdz/02qB3qKxiYJnZkAP6yTcIFzVjYhr6HeSKHezVPD3IGCfDI8e7sPDwT/R8BCQv/WLAYXZ1HPBc5zFZt0DW4UWJbQj8ZyI0F/+f6og/NcsmITI2xI2u8FfqPBp8P8Eysg9kF8/l94rcCdxKNGWnkH6LU1XU42cCuBMpefooHuvW/T1xbOEWCZvVcnHX1t2/xxyWzhHA8cMvr+4/rpzmPUldiu6JLlzWYoX77/CZZxEqiR+AOX8Qwc4ixgkiguo2ZzxxV+71wkR51ic94jvwHHc1HtMK38NAAAAABJRU5ErkJggg=="},9968:function(e,l,a){a.d(l,{IH:()=>r,JV:()=>o,Nh:()=>s,W1:()=>c,W2:()=>i,hm:()=>A,i1:()=>p,iX:()=>n,lO:()=>u,rJ:()=>d,x6:()=>m});var t=a(7936);let o=()=>t.ZP.request({url:"camp/role/list",method:"get"}),i=e=>t.ZP.request({url:"bet/types",method:"get",params:e}),r=()=>t.ZP.request({url:"lottery/current/list",method:"get"}),d=e=>t.ZP.request({url:"lottery/current/info",method:"get",params:e}),s=e=>t.ZP.request({url:"lottery/history/info",method:"get",params:e}),u=e=>t.ZP.request({url:"lottery/history/list",method:"get",params:e}),n=e=>t.ZP.request({url:"lottery/join",method:"post",data:e}),c=e=>t.ZP.request({url:"bet/place",method:"POST",data:e}),m=e=>t.ZP.request({url:"worker/list",method:"get",params:e}),p=e=>t.ZP.request({url:"worker/info",method:"get",params:e}),A=e=>t.ZP.request({url:"worker/history",method:"get",params:e})},1026:function(e,l,a){a.r(l),a.d(l,{default:()=>D});var t=a(9227);a(8246);var o=a(7409);a(5998);var i=a(4936);a(276);var r=a(9155);a(3720);var d=a(6653);a(5161);var s=a(5e3);a(9242);var u=a(7775);a(2542);var n=a(3919);a(5454);var c=a(796),m=a(9395),p=a(6265),A=a(2250),v=a(1277),_=a(9938),h=a(9968),g=a(2110),w=a(2396),b=a(2991),f=a(2829);a(888),a(8491);let U={class:"title"},x={class:"main"},k={class:"text_box"},C={class:"text_box"},q={class:"text_box"},E={class:"text_box"},Z={class:"box-item-stepper"},Y={class:"stepper-box"},y={class:"footer"},J={class:"amount"},S={class:"button"},H={class:"popup-box"},W={style:{"text-align":"center"}},j={key:0,style:{"font-size":"12px"}},B={class:"popup-box"},I={class:"popup-footer-bet"},z=(0,c.aZ)({__name:"join",setup(e){let l=(0,c.iH)(!1),z=(0,c.iH)({tname:"",describe:"",price:0,type:0,total:0,id:0,lottery_grade:"",marquee:"",draw_at:"",min_grade:0,max_grade:0}),D=()=>K.value?T.value.camp_id||G.value.role_id?void(l.value=!0):(0,b.CF)("请选择营地ID和角色"):(0,b.CF)("请选择购票张数"),P=(0,c.iH)(!1),F=async()=>{if(!P.value){P.value=!0;try{let e={cid:T.value.camp_id,rid:G.value.role_id,list:[{iid:z.value.id,count:V.value}]},a=await (0,h.iX)({...e});200==a.code&&(V.value=0,l.value=!1,await (0,f.vC)({allowHtml:!0,title:"温馨提示",message:`<span style="color:#fff">${w.Z.global.t("betting.bs")}</span>`}))}finally{P.value=!1}}},V=(0,c.iH)(0),Q=()=>{if(V.value<=0)return V.value=0;V.value-=1},X=()=>{V.value+=1},T=(0,c.iH)({camp_id:"",camp_name:""}),G=(0,c.iH)({role_id:"",role_name:""}),O=(0,c.iH)(!1),R=(0,c.qj)([]),M=(0,c.Fl)(()=>T.value.camp_id?`${T.value.camp_name},${G.value.role_name},${G.value.role_job?`(${G.value.role_job})`:""}`:""),K=(0,c.Fl)(()=>V.value<=0?0:V.value*z.value.price),N=e=>{T.value={camp_id:e.selectedOptions[0].value,camp_name:e.selectedOptions[0].text},G.value={role_id:e.selectedOptions[1].value,role_name:e.selectedOptions[1].text,...e.selectedOptions[1]},O.value=!1},L=()=>{(0,h.JV)().then(e=>{200==e.code&&e.data&&e.data.length>0&&(T.value={...e.data[0],camp_name:e.data[0].camp_id+"("+e.data[0].camp_name+")"},e.data[0].default_rid?G.value=e.data[0].role_list.find(l=>l.role_id===e.data[0].default_rid)||{role_id:"",role_name:""}:G.value=e.data[0].role_list[0],R=(0,g.u6)(e.data,{camp_id:"value",camp_name:"text",role_list:"children",role_id:"value",role_name:"text"},["camp_id","camp_name"]))})};return(0,c.bv)(async()=>{let{id:e}=(0,_.yj)().query;if(e){let l=await (0,h.rJ)({id:Number(e)});200==l.code&&(z.value=l.data)}L()}),(e,_)=>{let h=n.l2,g=u.iz,w=s.gN,b=d.Ee,f=r.zx,L=i.HY,$=o.cW,ee=t.GI;return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(h,{class:"header","safe-area-inset-top":"",border:!1,fixed:"","left-arrow":!1,placeholder:"",onClickLeft:_[0]||(_[0]=e=>(0,c.SU)(v.Z).back()),onClickRight:_[1]||(_[1]=e=>(0,c.SU)(v.Z).push("/feedback"))},{left:(0,c.w5)(()=>_[11]||(_[11]=[(0,c._)("img",{src:m,alt:"icon",class:"back-icon"},null,-1)])),title:(0,c.w5)(()=>[(0,c._)("p",U,(0,c.zw)((0,c.SU)(z).tname)+"购票",1)]),_:1}),(0,c._)("div",x,[(0,c._)("div",k,[_[12]||(_[12]=(0,c._)("p",null,"本期开奖时间",-1)),(0,c._)("span",null,(0,c.zw)((0,c.SU)(z).draw_at),1)]),(0,c._)("div",C,[_[13]||(_[13]=(0,c._)("p",null,"玩法",-1)),(0,c._)("span",null,(0,c.zw)(8==(0,c.SU)(z).type?"以游戏尾数为中奖号码":"以游戏具体评分为中奖号码("+(0,c.SU)(z).min_grade+"-"+(0,c.SU)(z).max_grade+")"),1)]),(0,c._)("div",q,[_[14]||(_[14]=(0,c._)("p",null,"票价",-1)),(0,c._)("span",null,(0,c.zw)((0,c.SU)(z).price)+"元/张",1)]),(0,c._)("div",E,[_[15]||(_[15]=(0,c._)("p",null,"当前奖池",-1)),(0,c._)("span",null,(0,c.zw)((0,c.SU)(z).total),1)]),(0,c.Wm)(g,{style:{borderColor:"#554B40"}}),_[16]||(_[16]=(0,c._)("div",{class:"label"},"购票张数",-1)),(0,c._)("div",Z,[(0,c._)("div",Y,[(0,c._)("div",null,[(0,c._)("div",{class:"reduce",onClick:_[2]||(_[2]=e=>Q())})]),(0,c.Wm)(w,{class:"input",modelValue:(0,c.SU)(V),"onUpdate:modelValue":_[3]||(_[3]=e=>(0,c.dq)(V)?V.value=e:null),modelModifiers:{number:!0},min:0,type:"digit",autocomplete:"off"},null,8,["modelValue"]),(0,c._)("div",null,[(0,c._)("div",{class:"add",onClick:_[4]||(_[4]=e=>X())})])])]),_[17]||(_[17]=(0,c._)("div",{class:"label"},"选择王者营地ID和角色",-1)),(0,c._)("div",{class:(0,c.C_)((0,c.SU)(M)?"shortcut-box-other shortcut-box-other-focus":"shortcut-box-other shortcut-box-other-blur")},[(0,c.Wm)(w,{modelValue:(0,c.SU)(M),"onUpdate:modelValue":_[5]||(_[5]=e=>(0,c.dq)(M)?M.value=e:null),readonly:"",autocomplete:"off",placeholder:"请选择",onClick:_[6]||(_[6]=e=>O.value=!0)},{"right-icon":(0,c.w5)(()=>[(0,c.Wm)(b,{width:"14",src:a(6339)},null,8,["src"])]),_:1},8,["modelValue"])],2)]),(0,c._)("div",y,[(0,c._)("div",null,[(0,c._)("div",J,[_[19]||(_[19]=(0,c._)("p",null,"小计：",-1)),(0,c._)("h2",null,[(0,c.Uk)((0,c.zw)((0,c.SU)(K)),1),_[18]||(_[18]=(0,c._)("span",null,"元",-1))])]),(0,c._)("div",S,[(0,c.Wm)(f,{block:"",round:"",onClick:D},{default:(0,c.w5)(()=>_[20]||(_[20]=[(0,c.Uk)("去支付")])),_:1})])])]),(0,c.Wm)(ee,{class:"popup",show:(0,c.SU)(O),"onUpdate:show":_[8]||(_[8]=e=>(0,c.dq)(O)?O.value=e:null),round:"",position:"bottom"},{default:(0,c.w5)(()=>[(0,c._)("div",H,[_[21]||(_[21]=(0,c._)("div",{class:"popup-box-title"},[(0,c._)("img",{src:p,alt:"icon"}),(0,c._)("h3",null,"选择ID和角色"),(0,c._)("img",{src:A,alt:"icon"})],-1)),(0,c.Wm)($,{"model-value":[(0,c.SU)(T).camp_id,(0,c.SU)(G).role_id],columns:(0,c.SU)(R),"option-height":"55",onCancel:_[7]||(_[7]=e=>(0,c.SU)(v.Z).push("/binding")),"confirm-button-text":"确认","cancel-button-text":"添加营地ID",onConfirm:N},{option:(0,c.w5)(e=>[(0,c._)("div",W,[(0,c._)("div",null,(0,c.zw)(e.text),1),e.area_code?((0,c.wg)(),(0,c.iD)("div",j,"("+(0,c.zw)(e.area_name+e.area_code.substring(2))+")",1)):(0,c.kq)("",!0)])]),empty:(0,c.w5)(()=>[(0,c.Wm)(L,{"image-size":"80",description:"暂无数据"})]),_:1},8,["model-value","columns"])])]),_:1},8,["show"]),(0,c.Wm)(ee,{show:(0,c.SU)(l),"onUpdate:show":_[10]||(_[10]=e=>(0,c.dq)(l)?l.value=e:null),position:"center",class:"popup","close-on-click-overlay":!1},{default:(0,c.w5)(()=>[(0,c._)("div",B,[_[24]||(_[24]=(0,c._)("div",{class:"popup-box-title"},[(0,c._)("img",{src:p,alt:"icon"}),(0,c._)("h3",null,"提示"),(0,c._)("img",{src:A,alt:"icon"})],-1)),_[25]||(_[25]=(0,c._)("div",{class:"accountDesc"}," 确认支付后请在开奖前完成有效对局 支付后不可撤销，祝您好运！ ",-1)),(0,c._)("div",I,[(0,c.Wm)(f,{block:"",round:"",class:"btn confirm",loading:(0,c.SU)(P),onClick:F},{default:(0,c.w5)(()=>_[22]||(_[22]=[(0,c.Uk)(" 确认 ")])),_:1},8,["loading"]),(0,c.Wm)(f,{block:"",round:"",class:"btn cancel",onClick:_[9]||(_[9]=e=>l.value=!1)},{default:(0,c.w5)(()=>_[23]||(_[23]=[(0,c.Uk)("取消")])),_:1})])])]),_:1},8,["show"])],64)}}}),D=(0,a(3744).default)(z,[["__scopeId","data-v-4cc4ec7e"]])}}]);