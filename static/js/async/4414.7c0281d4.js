"use strict";(self.webpackChunkrebuild_vue3_vant4=self.webpackChunkrebuild_vue3_vant4||[]).push([["4414"],{9395:function(e){e.exports="data:image/png;base64,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"},8299:function(e,t,a){e.exports=a.p+"static/image/collection.72807770.png"},3243:function(e,t,a){e.exports=a.p+"static/image/complete.c7a9f855.png"},6265:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAICAYAAACh4kz0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFRSURBVHgB3VS9TsMwEL5zA+pGHsGvwBMQRiZmpsZv0AgxIMTMAFVghSHJxABDN0ZegUfIiCqEMlB+JNfGJjG6Ohk6VKqUT7JsfT5f7vMXH0LP8HR/wQOETGoQB0enpeWKm+OR1hDF44lwcQg9ghMdGNGSwUgqKGaztz2tMa8jdO7Eb1R4lo55mw08TocALFzmVCWSyZQyVPR+4/Tj7Vn28fkTe/n+xGNTgEk8JMklr2fk5AC3RSDCznIiW5T2CqPnqAAIYU0wLu6K5PLFrrtE17+3c7p1Og/sJJLrykwV2SlhBdSOLQiz1VyCph9pHEOP8y+hi0MObfC6vsF/vUMzpBnfJEgphogaumAuBHvzxp+N69Jrag9359P5/OuQxpkmV4jkKu5Vc6PiGah4G1hevr5HxvnM7jvRdt0r4RZW/IJhOlA6ce89S09iIztyoi1+AdP4kb6JFiDiAAAAAElFTkSuQmCC"},2250:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAAICAYAAACh4kz0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFbSURBVHgB3ZM7TsQwEIbHeRAC+0hHQZMrcIOkQaKjQkIUJDeItYCEaLZbClDCCeJtEF1ES8MVuAE5QmiQlg02drKBPAwUSBT5pSie8diebzxGUNP8ZnLMGDhecO0LO4mn1qZpJPBO8e7RxRP0SKgalNCIlBYj4/EQD8y1WGMILxkEwCjpE3wB3oQutW7o6ZY1ct3D81TYD7ezSAYfhycO38ZubstSyVEZwDKre3wcSeL+R0gG/SVGqrYXksGTaPLcBf9TSmkrB1GsrBvXLC5/oi9lcUUsWsXT1Vh8auHz8WWxTqNUQQgxkIkXBDUcCoCu6K0YuOe//TJBlP2UnBzsO197bbdjuDLeNZKi/K4CLA5PPQ4f1yc2TCMbjgY7e1Wr380iXVGJe3DWi3f+eaN1eH6Lc9veDvK3RZxThlUEQZ+ghRqtLOA5tuPjK0/Yj0lo5YtXoin6tE/QQh8smpmXYo08lAAAAABJRU5ErkJggg=="},8214:function(e,t,a){e.exports=a.p+"static/image/wait.5bd02caa.png"},3720:function(e,t,a){a(2136),a(8649),a(1058),a(6376),a(318)},8681:function(e,t,a){a.d(t,{M:()=>r});var l=a(796);let n=0;function r(){let e=(0,l.FN)(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return`${t}-${++n}`}},8246:function(e,t,a){a(2136),a(8649),a(1058),a(7016),a(2057)},352:function(e,t,a){a.d(t,{K3:()=>n,KO:()=>s,Ll:()=>i,MJ:()=>A,Px:()=>u,R9:()=>o,hw:()=>c,j7:()=>r});var l=a(7936);let n=e=>l.ZP.request({url:"activityLog/history",method:"GET",params:e}),r=()=>l.ZP.request({url:"rebate/invitation",method:"GET"}),s=()=>l.ZP.request({url:"invitation",method:"GET"}),u=()=>l.ZP.request({url:"activityLog/sum",method:"GET"}),i=e=>l.ZP.request({url:"activity/sign/list",method:"GET",params:e}),o=e=>l.ZP.request({url:"activity/claim",method:"POST",data:e}),c=e=>l.ZP.request({url:"activity/sign",method:"POST",data:e}),A=e=>l.ZP.request({url:"activity/receive",method:"POST",data:e})},7307:function(e,t,a){a.d(t,{Iu:()=>c,Qn:()=>o,bG:()=>n,fm:()=>A,kR:()=>r,nW:()=>u,nz:()=>i,pq:()=>s});var l=a(7936);let n=()=>l.ZP.request({url:"user/info",method:"GET"}),r=e=>l.ZP.request({url:"user/password",method:"PUT",data:e}),s=e=>l.ZP.request({url:"user/info",method:"PUT",data:e}),u=e=>l.ZP.request({url:"user/password",method:"POST",data:e}),i=e=>l.ZP.request({url:"user/balance/transfer",method:"POST",data:e}),o=e=>l.ZP.request({url:"isExperienceUser",method:"POST",data:e}),c=e=>l.ZP.request({url:"isOfficialUser",method:"POST",data:e}),A=e=>l.ZP.request({url:"subUserList",method:"get",params:e})},3425:function(e,t,a){a.r(t),a.d(t,{default:()=>Y});var l=a(4210);a(8246);var n=a(4936);a(276);var r=a(1346);a(3974);var s=a(9155);a(3720);var u=a(6653);a(5161);var i=a(3919);a(5454);var o=a(796),c=a(9395),A=a(6265),d=a(2250),v=a(4496),m=a(1277),g=a(352);a(7307);var p=a(2991);a(8491);let h={class:"top"},w={class:"time"},k={class:"time-content"},b={class:"value"},f={class:"value"},E={class:"value"},T={class:"page"},C={class:"container"},U={key:0},q={class:"list-top"},P={class:"list-title"},B={class:"progress"},y={class:"list-btm"},S={key:2,class:"rule_html"},H=["innerHTML"],D={class:"popup-box"},Q={class:"popup-box-cont"},J=["innerHTML"],Z={class:"popup-box-button"},G=(0,o.aZ)({__name:"Statement",emits:["loadData"],setup(e,t){let{emit:G}=t;(0,v.A)();let Y=(0,o.iH)(!1),M=(0,o.iH)([]),x=(0,o.iH)(),j=(0,o.iH)(!1),z=(e,t)=>e>=Number(t)?Number(t):e,N=(e,t)=>e>=Number(t)?0:Number(t)-e,R=(e,t,a)=>{let l=Number(a.statement);return e<l?0:l===Math.max(...t.map(e=>Number(e.statement)).filter(t=>e>=t))?2:1},I=(e,t)=>{t.sort((e,t)=>Number(e.statement)-Number(t.statement));let a=t[t.length-1];for(let a=0;a<t.length;a++)if(Number(t[a].statement)<=e&&(j.value=!0),Number(t[a].statement)>=e)return{remainingDays:Number(t[a].statement),needPoint:Number(t[a].statement)-e,points:t[a].reward};return{remainingDays:Number(a.statement),needPoint:Number(a.statement)-e,points:a.reward}};(0,o.Fl)(()=>M.value.length>0?I(M.value[0].currentCount,M.value[0].rule_list):{remainingDays:0,needPoint:0,points:0});let O=(e,t)=>e/Number(t)*100>100?100:e/Number(t)*100||0,L=(0,o.iH)(!1),_=async e=>{if(!L.value){L.value=!0;try{let t=await (0,g.R9)({a_id:e});200===t.code&&(0,p.XA)({message:"领取成功",onClose:()=>{V()}})}finally{L.value=!1}}},V=async()=>{$&&(clearInterval($),$=null);let e=await (0,g.K3)({type:"all_statement"});200===e.code&&e.data&&(M.value=e.data,F.value=e.data[0].cycle?e.data[0].cycle:"",e.data[0].cycle&&(F.value=e.data[0].cycle||"week",ee(),$=setInterval(ee,6e4)))},F=(0,o.iH)("week"),W=(0,o.iH)("00"),X=(0,o.iH)("00"),K=(0,o.iH)("00"),$=null;function ee(){let e=(function(e){let t=new Date,a=new Date(t);switch(e){case"day":a.setHours(23,59,59,999);break;case"week":let l=t.getDay();a.setDate(t.getDate()+(0===l?0:7-l)),a.setHours(23,59,59,999);break;case"month":a.setMonth(a.getMonth()+1,0),a.setHours(23,59,59,999);break;case"quarter":let n=3*Math.floor(t.getMonth()/3)+2;a.setMonth(n+1,0),a.setHours(23,59,59,999);break;case"year":a.setMonth(11,31),a.setHours(23,59,59,999)}return a})(F.value).getTime()-Date.now();if(e<=0){W.value="00",X.value="00",K.value="00";return}let t=Math.floor(e/6e4),a=Math.floor(t/1440),l=Math.floor(t%1440/60);W.value=String(a).padStart(2,"0"),X.value=String(l).padStart(2,"0"),K.value=String(t%60).padStart(2,"0")}return(0,o.bv)(()=>{V()}),(0,o.SK)(()=>{$&&clearInterval($)}),(e,t)=>{let v=i.l2,g=u.Ee,p=s.zx,G=r.Ex,j=n.HY,I=l.GI;return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(v,{class:"header","safe-area-inset-top":"",border:!1,fixed:"","z-index":"2","left-arrow":!1,placeholder:"",onClickLeft:t[0]||(t[0]=e=>(0,o.SU)(m.Z).back())},{left:(0,o.w5)(()=>t[4]||(t[4]=[(0,o._)("img",{src:c,alt:"icon",class:"back-icon"},null,-1)])),title:(0,o.w5)(()=>t[5]||(t[5]=[(0,o._)("p",{class:"title"},"周流水返利",-1)])),_:1}),(0,o._)("div",h,[(0,o._)("div",w,[t[9]||(t[9]=(0,o._)("span",{class:"time-title"},[(0,o._)("span",{class:"line"}),(0,o._)("span",null,"倒计时"),(0,o._)("span",{class:"line"})],-1)),(0,o._)("span",k,[(0,o._)("span",b,(0,o.zw)(W.value),1),t[6]||(t[6]=(0,o._)("span",null,"天",-1)),(0,o._)("span",f,(0,o.zw)(X.value),1),t[7]||(t[7]=(0,o._)("span",null,"时",-1)),(0,o._)("span",E,(0,o.zw)(K.value),1),t[8]||(t[8]=(0,o._)("span",null,"分",-1))])])]),(0,o._)("div",T,[(0,o._)("div",C,[M.value.length>0?((0,o.wg)(),(0,o.iD)("div",U,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(M.value[0].rule_list,(e,l)=>((0,o.wg)(),(0,o.iD)("div",{class:"list",key:l},[(0,o._)("div",q,[(0,o._)("div",null,[(0,o._)("div",P,[(0,o._)("span",null,"流水"+(0,o.zw)(e.statement)+"送"+(0,o.zw)(e.reward),1)])]),"1"==M.value[0].status&&0===M.value[0].receive&&0==R(M.value[0].currentCount,M.value[0].rule_list,e)?((0,o.wg)(),(0,o.j4)(g,{key:0,width:"72",src:a(8214)},null,8,["src"])):(0,o.kq)("",!0),1==R(M.value[0].currentCount,M.value[0].rule_list,e)&&"1"==M.value[0].status&&0===M.value[0].receive?((0,o.wg)(),(0,o.j4)(p,{key:1,block:"",round:"",class:"cancel_btn"},{default:(0,o.w5)(()=>t[10]||(t[10]=[(0,o.Uk)(" 立即领取 ")])),_:1})):(0,o.kq)("",!0),"1"==M.value[0].status&&0===M.value[0].receive&&2==R(M.value[0].currentCount,M.value[0].rule_list,e)?((0,o.wg)(),(0,o.j4)(g,{key:2,onClick:t[1]||(t[1]=e=>_(M.value[0].id)),width:"72",src:a(8299)},null,8,["src"])):(0,o.kq)("",!0),1===M.value[0].receive&&2==R(M.value[0].currentCount,M.value[0].rule_list,e)?((0,o.wg)(),(0,o.j4)(g,{key:3,width:"72",src:a(3243)},null,8,["src"])):(0,o.kq)("",!0)]),(0,o._)("div",B,[(0,o.Wm)(G,{percentage:O(M.value[0].currentCount,e.statement),"track-color":"#352918",color:"linear-gradient(90deg, rgba(255, 255, 255, 0.00) 86.33%, rgba(255, 255, 255, 0.70) 99.72%), linear-gradient(180deg, #F3E295 0%, #AB6E0F 100%)","stroke-width":"14","show-pivot":!1},null,8,["percentage"])]),(0,o._)("div",y,[(0,o._)("div",null,[t[11]||(t[11]=(0,o.Uk)("当前有效流水：")),(0,o._)("span",null,(0,o.zw)(z(M.value[0].currentCount,e.statement)),1)]),(0,o._)("div",null,[t[12]||(t[12]=(0,o.Uk)(" 预计还需投：")),(0,o._)("span",null,(0,o.zw)(N(M.value[0].currentCount,e.statement)),1)])])]))),128))])):((0,o.wg)(),(0,o.j4)(j,{key:1,description:"暂无活动"})),t[13]||(t[13]=(0,o._)("div",{class:"box-title"},[(0,o._)("div",{class:"title-left"}),(0,o._)("p",null,"活动规则")],-1)),M.value.length>0?((0,o.wg)(),(0,o.iD)("div",S,[(0,o._)("div",{innerHTML:M.value[0].activityDescribe},null,8,H)])):(0,o.kq)("",!0)])]),(0,o.Wm)(I,{show:Y.value,"onUpdate:show":t[3]||(t[3]=e=>Y.value=e),class:"popup",position:"center"},{default:(0,o.w5)(()=>[(0,o._)("div",D,[t[14]||(t[14]=(0,o._)("div",{class:"popup-box-title"},[(0,o._)("img",{src:A,alt:"icon"}),(0,o._)("h3",null,"活动规则"),(0,o._)("img",{src:d,alt:"icon"})],-1)),(0,o._)("div",Q,[(0,o._)("div",{innerHTML:x.value},null,8,J)]),(0,o._)("div",Z,[(0,o.Wm)(p,{block:"",round:"",class:"btn",onClick:t[2]||(t[2]=e=>Y.value=!1)},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)(e.$t("binding.confirm")),1)]),_:1})])])]),_:1},8,["show"])],64)}}}),Y=(0,a(3744).default)(G,[["__scopeId","data-v-a19f8114"]])}}]);